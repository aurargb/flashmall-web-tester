import{d as u,u as g,s as h,b as n,e as i,f as r,w as d,F as _,h as y,A as w}from"./index-DpnWNzZa.js";import{L}from"./index-C_cBekjO.js";import{a as x}from"./guarantee-8vU7Yn2j.js";import{_ as z}from"./CommonVanProvider.vue_vue_type_script_setup_true_lang-HMOLRm-b.js";import{_ as C}from"./CapItem.vue_vue_type_script_setup_true_lang-C69rku39.js";import"./index-DY3R3HP_.js";import"./use-placeholder-B8gNgIrJ.js";import"./BackIcon-Wzk3li0b.js";/* empty css                                                                 */import"./member-wzMSw2ZB.js";const T={class:"font-normal bg-gray1"},A=u({__name:"CrowdRecords",setup($){const l=g(),t=h({page:0,size:10,finished:!1,list:[],loading:!1,total:0,sortType:1}),p=async()=>{t.loading=!0,t.page+=1,await c(),t.loading=!1},f=e=>{l.push(e)},c=async()=>{var a,o;const e=await x({page:t.page,size:t.size,type:1,sortType:t.sortType,title:t.shopName});if(t.loading=!1,!e.success){t.finished=!0;return}if(!e.data||!+e.data.total){t.finished=!0;return}t.total=(a=e.data)==null?void 0:a.total,t.list=t.page===1?(o=e.data)==null?void 0:o.records:t.list.concat(e.data.records),t.list.length>=t.total&&(t.finished=!0)};return(e,a)=>{const o=L;return i(),n("div",T,[r(z,{title:e.$t("wo-shen-he-de-xian-mu")},{default:d(()=>[r(o,{loading:t.loading,"onUpdate:loading":a[0]||(a[0]=s=>t.loading=s),class:"px-3 py-2.5",finished:t.finished,"finished-text":e.$t("mei-you-geng-duo-le"),"loading-text":e.$t("jia-zai-zhong"),onLoad:p},{default:d(()=>[(i(!0),n(_,null,y(t.list,(s,m)=>(i(),w(C,{key:m,shop:s,noBtn:"",onHandleTo:f},null,8,["shop"]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])]),_:1},8,["title"])])}}});export{A as default};
