import{d as J,a as V,b as l,e as n,g as e,i as k,t as r,j as i,as as ue,n as A,m as Z,a3 as se,r as x,q as ne,aW as Y,f as E,A as B,w as F,au as W,ah as re,aV as O,F as P,h as K,c as X,o as le,a4 as ce,a0 as q,G as ee,ac as de,H as ve,I as te,ap as me,u as pe}from"./index-D1IDHpEr.js";import{L as fe}from"./index-DOIegwCs.js";/* empty css              *//* empty css              */import{D as he}from"./index-DXecZrEP.js";import{_ as oe,P as ye}from"./bottom-DNe9lBuS.js";import{_ as ge}from"./calendar-BQGPhOSq.js";import{u as H}from"./index-REhnXf1k.js";import{_ as be}from"./BackIcon-BQamH_1r.js";import{_ as xe}from"./selected-flash-C94X7PmP.js";import{b as Ae}from"./beiConstContract-LmXBgzZV.js";import{c as we,b as Te,e as _e}from"./bei-CrV0crTX.js";/* empty css                                                                 */const ke={class:"bg-white p-4 text-[#2E2008] mb-3 rounded-xl text-sm"},De={class:"flex items-center pb-2 border-b border-solid border-[#000]/10"},Me={class:"text-sm font-semibold"},Re={key:0},$e={key:1},Le={key:0},Ce={class:"flex justify-between mt-2"},Ee={class:"text-b3"},Se={class:"font-bold"},qe={class:"flex justify-between mt-2"},Ie={class:"text-b3"},je={class:"font-bold"},ze={key:1},Be={class:"flex justify-between mt-2"},Ne={class:"text-b3"},Ue={class:"font-bold"},Qe={key:0,class:"flex justify-between mt-2"},Fe={class:"text-b3"},Pe={class:"font-bold"},Ve={key:1,class:"flex justify-between mt-2"},Ye={class:"text-b3"},He={class:"font-bold"},Oe={key:2,class:"mt-4"},Xe=J({__name:"DividendItem",props:{data:{},filterList:{},currentType:{}},setup(o){const{t:w}=V();return(t,T)=>{var D,c,M;return n(),l("div",ke,[e("div",De,[e("div",Me,[(D=t.data)!=null&&D.createTime?(n(),l("span",Re,r(i(ue)(t.data.createTime)),1)):(n(),l("span",$e,"——"))]),e("div",{class:A(["ml-auto text-sm font-semibold",{"text-success":t.data.status==2,"text-b3":t.data.status==3,"text-main":t.data.status==1}])},r((c=t.data)!=null&&c.statusText?(M=t.data)==null?void 0:M.statusText:t.filterList.find(p=>p.value==t.data.status)&&t.filterList.find(p=>p.value==t.data.status).text),3)]),t.data.userMai&&t.currentType===1?(n(),l("div",Le,[e("div",Ce,[e("span",Ee,r(i(w)("tong-zheng-mai-shu-liang")),1),e("span",Se,r(t.data.userMai)+" MAI",1)]),e("div",qe,[e("span",Ie,r(i(w)("quan-yi-mai-fen-hong")),1),e("span",je,r(t.data.maiRewardMcAmount)+" MC",1)])])):k("",!0),t.data.userLp&&t.currentType===2?(n(),l("div",ze,[e("div",Be,[e("span",Ne,r(i(w)("tong-zheng-lp-shu-liang")),1),e("span",Ue,r(t.data.userLp)+" LP",1)]),t.data.lpRewardMcAmount?(n(),l("div",Qe,[e("span",Fe,r(i(w)("quan-yi-lp-fen-hong")),1),e("span",Pe,r(t.data.lpRewardMcAmount)+" MC",1)])):k("",!0),t.data.lpRewardMaiAmount?(n(),l("div",Ve,[e("span",Ye,r(i(w)("quan-yi-lp-fen-hong")),1),e("span",He,r(t.data.lpRewardMaiAmount)+" MAI",1)])):k("",!0)])):k("",!0),t.data.loanOrderNo?(n(),l("div",Oe,r(i(w)("jie-dai-tip",{no:(t.data.loanTitle||"")+" "+t.data.loanOrderNo,lp:t.data.lp,mc:t.data.lpRewardAmount})),1)):k("",!0)])}}}),Je=Z(Xe,[["__scopeId","data-v-d219f020"]]),Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD1SURBVHgB7dRbEcIwEAXQ3SpAQiQgARyAA3BQFAAKwEEkgAMqAQmRUAN02e2knQz0EZrki96fPJrkzOw0AZgzxyOk1aLpIyQMQ0tCvHFXIdEa96bIIFEs9hBMxhVkG2mTgA7WlNJkUF2lE72kXZgtp4kOjmFRQR8sGuiLRQF/wVqQNynepAnQZFQdeHEJCTBJfS34juTcrBBoJwe4L0NMrAX5jhTO3HIMnYq1IC+8E9HZBw3BassdvLQ6IeLRmXraw8oY2Bc4gG4FCcU6QYvmjF6cKWOhIKwXlHD55I/VHZ8mY4NgDxqEjYIfaDDmHZ+HYM7/5A1qBMlKqvqebgAAAABJRU5ErkJggg==",Ge={class:"rounded-xl text-b1 pb-3"},We={class:"van-sticky-content flex justify-between items-center z-10"},Ke={key:0,class:"w-4 h-4 ml-0.5",src:oe,alt:""},et={key:1,class:"w-4 h-4 ml-0.5",src:ge,alt:""},tt={class:"popover-style px-2.5 py-1"},at=["onClick"],st={key:0,class:"w-3.5 h-3.5 ml-auto",src:Ze},nt={class:"flex items-center mt-1.5"},lt={class:"font-semibold"},ot=J({__name:"DividendFilter",props:{filterList:{},iconType:{},pageTime:{},currentType:{},bg:{},typeHide:{}},emits:["changeType","changeTime"],setup(o,{emit:w}){const{t}=V();se();const T=x({text:t("quan-bu"),value:null}),D=v=>{T.value=v,L(!1),b("changeType",v)};ne().query.type;const[M,p]=H(!1),[_,y]=H(!1),[R,L]=H(!1),b=w,C=x(new Date),d=x([Y(new Date)+"",("0"+new Date().getMonth()).slice(-2)]),f=x([Y(new Date)+"",("0"+(new Date().getMonth()+1)).slice(-2)]),Q=({selectedValues:v})=>{d.value=v,p(!1),y(!0)},g=({selectedValues:v})=>{f.value=v,p(!1),y(!1),b("changeTime",{startTime:d.value,endTime:f.value})},I=()=>{d.value=[Y(new Date)+"",("0"+new Date().getMonth()).slice(-2)],f.value=[Y(new Date)+"",("0"+(new Date().getMonth()+1)).slice(-2)],p(!1),b("changeTime",{startTime:null,endTime:null})},S=()=>{p(!0),y(!1)};return(v,h)=>{const j=ye,z=he,$=re;return n(),l("div",Ge,[e("div",We,[e("div",{class:"flex items-center mt-1.5",onClick:h[0]||(h[0]=m=>i(p)(!0))},[e("div",{class:A(["font-semibold",{"mr-0.5":!d.value}])},r(v.pageTime?`${i(O)(d.value)}/${i(O)(f.value)}`:v.$t("quan-bu-shi-jian")),3),e("div",null,[v.iconType!==1?(n(),l("img",Ke)):(n(),l("img",et))])]),v.typeHide?k("",!0):(n(),B(j,{key:0,show:i(R),"onUpdate:show":h[1]||(h[1]=m=>W(R)?R.value=m:null),"show-arrow":!1,placement:"bottom-end"},{reference:F(()=>{var m;return[e("div",nt,[e("div",lt,r(((m=T.value)==null?void 0:m.text)||v.$t("quan-bu")),1),h[6]||(h[6]=e("div",null,[e("img",{class:"w-4 h-4 ml-1.5",src:oe,alt:"",srcset:""})],-1))])]}),default:F(()=>[e("div",tt,[(n(!0),l(P,null,K(v.filterList,(m,N)=>(n(),l("div",{key:m.value,class:A(["flex items-center py-2.5 border-b border-solid border-[#000]/10 text-sm text-[#2E2008]",{"text-[#FEA021] font-semibold":T.value.value==m.value,"border-[#fff]":N===v.filterList.length-1}]),onClick:U=>D(m)},[e("span",null,r(m.text),1),T.value.value==m.value?(n(),l("img",st)):k("",!0)],10,at))),128))])]),_:1},8,["show"]))]),E($,{show:i(M),"onUpdate:show":h[3]||(h[3]=m=>W(M)?M.value=m:null),round:"",position:"bottom"},{default:F(()=>[E(z,{modelValue:d.value,"onUpdate:modelValue":h[2]||(h[2]=m=>d.value=m),title:i(t)("qing-xuan-ze-kai-shi-shi-jian"),"columns-type":["year","month"],"cancel-button-text":v.$t("zhong-zhi"),"max-date":new Date(`${f.value[0]}-${f.value[1]}`),onConfirm:Q,onCancel:I},null,8,["modelValue","title","cancel-button-text","max-date"])]),_:1},8,["show"]),E($,{show:i(_),"onUpdate:show":h[5]||(h[5]=m=>W(_)?_.value=m:null),round:"",position:"bottom"},{default:F(()=>[E(z,{modelValue:f.value,"onUpdate:modelValue":h[4]||(h[4]=m=>f.value=m),title:i(t)("qing-xuan-ze-jie-shu-shi-jian"),"columns-type":["year","month"],"cancel-button-text":i(t)("qu-xiao"),"min-date":new Date(`${d.value[0]}-${d.value[1]}`),"max-date":C.value,onConfirm:g,onCancel:S},null,8,["modelValue","title","cancel-button-text","min-date","max-date"])]),_:1},8,["show"])])}}}),ae=Z(ot,[["__scopeId","data-v-d0ea132b"]]),it={class:"grid-tab mb-[4px] mt-[146px] z-20 relative"},ut={class:"grid grid-cols-2 gap-[8px]"},rt=["onClick"],ct={class:"content leading-[14px]"},dt={class:"text-xs font-semibold"},vt={class:"mt-2 h-6 text-nowrap"},mt={key:1},pt={key:1},ft={__name:"DividendLPCard",props:{revenueDataLoading:{type:Boolean,default:!0},revenueData:{type:Array,default:()=>[]},scopeActive:{type:[Number,String],default:1}},emits:["init"],setup(o,{emit:w}){const{t}=V(),T=w,D=X(()=>[{text:t("mei-ri-fen-hong"),value:1},{text:t("yue-du-fen-hong"),value:2},{text:t("ji-du-fen-hong"),value:3},{text:t("nian-du-fen-hong"),value:4}]),c=L=>{T("changeScope",L)},{userTotalLp:M}=Ae(),p=x(0),[_,y]=H(!1),R=async()=>{const{success:L,result:b}=await M();L&&(p.value=de(b).toString(),y(!1))};return le(()=>{R()}),(L,b)=>{const C=ce;return n(),l("div",it,[e("div",ut,[(n(!0),l(P,null,K(D.value,(d,f)=>{var Q,g,I,S,v,h,j,z,$,m;return n(),l("div",{key:d.value,class:A(["h-[91px border border-[#fff]/10 rounded-[12px] cursor-pointer p-3 relative overflow-hidden transition-all duration-200 ease-in-out",[o.scopeActive===d.value?"bg-[#212121] text-white border border-[#fff] border-solid active":"bg-[rgba(255,255,255,0.90)]",d.value>=3?"h-[109px]":""]]),onClick:N=>c(d.value)},[o.scopeActive===d.value?(n(),l("img",{key:0,src:xe,class:A(["absolute top-[-5px] right-0 w-[120px] h-[120px]",[d.value>=3?"top-[11px]":""]])},null,2)):k("",!0),e("div",ct,[e("p",dt,r(d.text),1),e("p",vt,[o.revenueDataLoading?(n(),B(C,{key:0,size:"14",class:"inline-block"})):(n(),l("span",{key:1,class:A(["font-normal font-BebasNeue h-6 leading-[19px]",[o.scopeActive===d.value?"text-[#FED73A]":"text-[#2E2008]",String(i(q)((Q=o.revenueData[f])==null?void 0:Q.totalMc)).length>=7?"text-base":"text-lg"]])},r(i(q)((g=o.revenueData[f])==null?void 0:g.totalMc)),3)),e("span",{class:A(["ml-1 text-b3 symbol",String(i(q)((I=o.revenueData[f])==null?void 0:I.totalMc)).length>=7?"text-xxs":"text-xs"])},"MC",2),((S=o.revenueData[f])==null?void 0:S.type)===1?(n(),l(P,{key:2},[b[0]||(b[0]=e("span",{class:"ml-1 text-xs text-b3"},"/",-1)),o.revenueDataLoading?(n(),B(C,{key:0,size:"14",class:"inline-block"})):(n(),l("span",{key:1,class:A(["ml-1 font-normal font-BebasNeue leading-[19px]",[o.scopeActive===d.value?"text-[#FED73A]":"text-[#2E2008]",String(i(q)((v=o.revenueData[f])==null?void 0:v.totalMai)).length>=7?"text-base":"text-lg"]])},r(i(q)((h=o.revenueData[f])==null?void 0:h.totalMai)),3)),e("span",{class:A(["symbol ml-1 font-PuHuiTi font-normal text-b3",String(i(q)((j=o.revenueData[f])==null?void 0:j.totalMai)).length>=7?"text-xxs":"text-xs"])},"MAI ",2)],64)):k("",!0)]),e("div",null,[e("div",{class:A(["text-b3 text-xxs mt-2",{"flex justify-between":d.value<=2,"text-white opacity-[0.85]":o.scopeActive===d.value}])},[e("span",null,r(L.$t("yu-gu-ben-qi-shou-yi")),1),e("div",{class:A({"mt-1":d.value>2})},[o.revenueDataLoading?(n(),B(C,{key:0,size:"14",class:"inline-block"})):(n(),l("span",mt,[ee(r(i(q)(p.value*((z=o.revenueData[f])==null?void 0:z.mcRates)))+" ",1),b[1]||(b[1]=e("span",null," MC",-1))])),($=o.revenueData[f])!=null&&$.type?(n(),l(P,{key:2},[b[2]||(b[2]=ee(" / ")),o.revenueDataLoading?(n(),B(C,{key:0,size:"14",class:"inline-block"})):(n(),l("span",pt,r(i(q)(p.value*((m=o.revenueData[f])==null?void 0:m.maiRates)))+"MAI ",1))],64)):k("",!0)],2)],2)])])],10,rt)}),128))])])}}},ht={class:"w-full"},yt={class:"tabs__wrap w-full h-[30px] rounded-[50px] p-[2px] overflow-hidden"},gt={class:"w-full h-full relative"},bt={class:"w-full h-full flex items-center justify-center absolute left-0 top-0"},xt=J({name:"Tabs"}),At=Object.assign(xt,{props:{scopeActive:{type:Number,default:1},disabled:{type:Boolean,default:!1}},emits:["change"],setup(o,{emit:w}){const{t}=V(),T=o,D=w,c={DAY:1,MONTH:2,QUARTER:3,YEAR:4},M=X(()=>{switch(T.scopeActive){case c.DAY:return 0;case c.MONTH:return 25;case c.QUARTER:return 50;case c.YEAR:return 75;default:return 0}}),p=_=>{D("change",_)};return(_,y)=>(n(),l("div",ht,[e("div",yt,[e("div",gt,[e("div",{class:"selected-tab w-[25%] h-full bg-[#212121] rounded-[50px] absolute left-0 transition-all duration-300",style:ve({left:`${M.value}%`})},null,4),e("div",bt,[e("div",{class:"w-[25%] h-full flex items-center justify-center overflow-hidden",onClick:y[0]||(y[0]=R=>p(c.DAY))},[e("span",{class:A(["text-xs line-clamp-1 transition-all duration-300",[o.scopeActive===c.DAY?"text-b6 font-semibold":"text-b3 font-normal"]])},r(i(t)("mei-ri-fen-hong short")),3)]),e("div",{class:"w-[25%] h-full flex items-center justify-center overflow-hidden",onClick:y[1]||(y[1]=R=>p(c.MONTH))},[e("span",{class:A(["text-xs line-clamp-1 transition-all duration-300",[o.scopeActive===c.MONTH?"text-b6 font-semibold":"text-b3 font-normal"]])},r(i(t)("yue-du-fen-hong short")),3)]),e("div",{class:"w-[25%] h-full flex items-center justify-center overflow-hidden",onClick:y[2]||(y[2]=R=>p(c.QUARTER))},[e("span",{class:A(["text-xs line-clamp-1 transition-all duration-300",[o.scopeActive===c.QUARTER?"text-b6 font-semibold":"text-b3 font-normal"]])},r(i(t)("ji-du-fen-hong short")),3)]),e("div",{class:"w-[25%] h-full flex items-center justify-center overflow-hidden",onClick:y[3]||(y[3]=R=>p(c.YEAR))},[e("span",{class:A(["text-xs line-clamp-1 transition-all duration-300",[o.scopeActive===c.YEAR?"text-b6 font-semibold":"text-b3 font-normal"]])},r(i(t)("nian-du-fen-hong short")),3)])])])])]))}}),wt=Z(At,[["__scopeId","data-v-60f280a6"]]),Tt={class:"app-container flex flex-col h-screen"},_t={class:"flex-none"},kt={class:"sticky top-0 z-10"},Dt={class:"header-bar sticky top-0 flex font-normal justify-center text-sm items-center h-[44px] px-2.5 z-50"},Mt={class:"absolute left-2.5 flex items-center gap-1 -translate-y-1/2 top-1/2"},Rt={class:"text-base font-bold"},$t={key:2,class:"sticky top-[0] z-20 filter-color"},Lt={class:"min-h-screen"},Ct=J({__name:"Dividend",setup(o){se();const w=pe(),{t}=V(),T=x(!1),D=x(!1),c=x(0),M=x(10),p=x(0),_=x([]),y=ne(),R=x({text:t("quan-bu"),value:null}),L=X(()=>[{text:t("quan-bu"),value:null},{text:t("dai-fa-fang"),value:"1"},{text:t("yi-fa-fang"),value:"2"},{text:t("shi-xiao"),value:"3"}]);X(()=>[{text:t("mei-ri-fen-hong"),value:1},{text:t("yue-du-fen-hong"),value:2},{text:t("ji-du-fen-hong"),value:3},{text:t("nian-du-fen-hong"),value:4}]);const b=x(1);b.value=+y.query.type||1;const C=u=>{b.value=u;const s={type:u,currentType:g.value};w.replace({path:"/maiPledge-Dividend",query:s}),S()},d=u=>{R.value=u,S()},f=u=>{document.querySelector(".list-wrap").scrollTo({top:u,behavior:"smooth"})};y.query.type&&(b.value=+y.query.type||1);const g=x((()=>{const u=localStorage.getItem("maiPledge_currentType"),s=y.query.currentType;return s?(localStorage.setItem("maiPledge_currentType",String(s)),Number(s)):u?Number(u):1})());te(()=>y.query.currentType,u=>{if(u){const s=Number(u);g.value=s,localStorage.setItem("maiPledge_currentType",String(s))}}),te(()=>g.value,u=>{localStorage.setItem("maiPledge_currentType",String(u))}),me(()=>{localStorage.removeItem("maiPledge_currentType")});const I=async()=>{T.value=!0,c.value+=1,await z(),T.value=!1,c.value===1&&($.value>=330&&g.value===2?f(361):g.value===1&&f(0))},S=()=>{c.value=0,D.value=!1,_.value=[],I()},v=x(null),h=x(null),j=({startTime:u,endTime:s})=>{v.value=u,h.value=s,S()},z=async()=>{const{success:u,data:s}=await _e({page:c.value,size:M.value,startTime:v.value?O(v.value)+"-01":null,endTime:h.value?O(h.value)+"-31":null,status:R.value.value,period:b.value,type:g.value===2?2:1});if(!u){D.value=!0,p.value=c.value===1?0:p.value;return}p.value=s.total,_.value=c.value===1?s.records:_.value.concat(s.records),_.value&&_.value.length>=p.value&&(D.value=!0)},$=x(0),m=u=>{$.value=u.target.scrollTop},N=x(!0),U=x([{totalMc:0,totalMai:0,mcRates:0,maiRates:0,type:0}]),ie=async()=>{if(g.value===1)return;N.value=!0;const[{success:u,data:s},{success:G,data:a}]=await Promise.all([we(),Te()]);!u||!G||(N.value=!1,U.value[0]={totalMc:s==null?void 0:s.dailyLpRewardMcAmount,totalMai:0,mcRates:(a==null?void 0:a.dailyLpRewardMc)/(a==null?void 0:a.lpDeposit),maiRates:0,type:0},U.value[1]={totalMc:s==null?void 0:s.monthlyLpRewardMcAmount,totalMai:0,mcRates:(a==null?void 0:a.monthlyRewardMc)/(a==null?void 0:a.lpDeposit),maiRates:0,type:0},U.value[2]={totalMc:s==null?void 0:s.quarterlyLpRewardMcAmount,totalMai:s==null?void 0:s.quarterlyLpRewardMaiAmount,mcRates:(a==null?void 0:a.quarterlyRewardMc)/(a==null?void 0:a.lpDeposit),maiRates:(a==null?void 0:a.quarterlyRewardMai)/(a==null?void 0:a.lpDeposit),type:1},U.value[3]={totalMc:s==null?void 0:s.yearlyLpRewardMcAmount,totalMai:s==null?void 0:s.yearlyLpRewardMaiAmount,mcRates:(a==null?void 0:a.yearlyRewardMc)/(a==null?void 0:a.lpDeposit),maiRates:(a==null?void 0:a.yearlyRewardMai)/(a==null?void 0:a.lpDeposit),type:1})};return le(()=>{ie()}),(u,s)=>{const G=fe;return n(),l("div",Tt,[g.value===2?(n(),l("div",{key:0,class:A(["bg-pre",{"opacity-0":$.value>=330}])},null,2)):k("",!0),e("div",_t,[e("div",kt,[e("section",Dt,[e("div",Mt,[E(be)]),e("div",Rt,r(g.value===1?u.$t("mai-zhi-ya-fen-hong-ming-xi"):u.$t("lp-gu-dong-fen-hong-ming-xi")),1)])])]),e("div",{class:"list-wrap flex-1 overflow-y-auto px-4 z-20",onScroll:m},[g.value===2?(n(),B(ft,{key:0,class:A({"opacity-0":$.value>=330}),revenueDataLoading:N.value,revenueData:U.value,scopeActive:b.value,onChangeScope:C},null,8,["class","revenueDataLoading","revenueData","scopeActive"])):k("",!0),g.value===2?(n(),l("div",{key:1,class:A(["sticky top-[0] z-20 transition-all duration-300",{"filter-color":$.value>=330}])},[E(wt,{scopeActive:b.value,class:A(["opacity-0 h-[0] transition-all duration-300 mb-1",{"!opacity-100 !h-[30px] ":$.value>=320}]),onChange:C},null,8,["scopeActive","class"]),E(ae,{class:"relative z-50",currentType:g.value,pageTime:v.value,iconType:1,"filter-list":L.value,onChangeTime:j,onChangeType:d},null,8,["currentType","pageTime","filter-list"])],2)):k("",!0),g.value===1?(n(),l("div",$t,[E(ae,{currentType:g.value,pageTime:v.value,iconType:1,"filter-list":L.value,onChangeTime:j,onChangeType:d},null,8,["currentType","pageTime","filter-list"])])):k("",!0),e("div",Lt,[E(G,{loading:T.value,"onUpdate:loading":s[0]||(s[0]=a=>T.value=a),finished:D.value,"finished-text":u.$t("mei-you-geng-duo-le"),"loading-text":u.$t("jia-zai-zhong"),class:"flex flex-col",onLoad:I},{default:F(()=>[(n(!0),l(P,null,K(_.value,a=>(n(),B(Je,{key:a.id,currentType:g.value,data:a,filterList:L.value},null,8,["currentType","data","filterList"]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])])],32)])}}}),Yt=Z(Ct,[["__scopeId","data-v-a7f2dcdb"]]);export{Yt as default};
