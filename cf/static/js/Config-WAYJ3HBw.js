import{_ as Q,x as g,y as x,z as t,C as h,a8 as I,v as X,a9 as V,r as u,w as j,e as r,A as B,H,N as E,ap as z,O as Y,P as M,Q as N,E as L,d as R,af as T,S as Z,F as K,G as O}from"./index-Ce_DXvk7.js";import{L as q}from"./index-CscZwBzF.js";import{q as J,t as W,_ as $,u as ee}from"./cf-D0X9PrTD.js";import{F as ae}from"./index-BwvP83fo.js";import{d as le}from"./dark-close-SpaTsRy-.js";const te={class:"w-full h-[94px] bg-white rounded-xl p-3 flex flex-row items-center justify-between"},se={class:"w-[89%]"},oe={class:"text-base text-b1 font-semibold"},ne={class:"break-words text-sm text-b2 font-normal mt-2 font-AlibabaPuHuiTi"},de=Q({__name:"AddressItem",props:{info:{type:Object,default:()=>({})},index:{type:[Number,String],default:1}},emits:["delete"],setup(A,{emit:w}){const c=A,s=w,i=()=>{s("delete",c.info)};return(a,v)=>(g(),x("div",te,[t("div",se,[t("p",oe,h(a.$t("Management Address"))+h(A.index),1),t("p",ne,h(A.info.address),1)]),t("div",{class:"w-[17px] ml-auto cursor-pointer",onClick:i},v[0]||(v[0]=[t("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABDCAYAAAAlFqMKAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH+SURBVHgB7dxBTsJAFMbx99AlC4/AEbyBXWjiEk+g3MAbeBR6BNyRALHcgBvYI7hiA+U5Q3DzZQpKZ6CS75cIhtqE/NPaYVqqEpk9PNy6p1s5FbNSut2FjkZfEoFKJPb42JP1euh+zeTUVEv3+KSTyUIa6kgsVfUm54jhmfXcz4f1+zfSULwgZn05rxtZLjNpKF4Q/4bOzaxFW8iFYBBwLenN3VEgl3gyt2s8SyLpg5h96nSaSyRunOOfkgXhLgMYBDAIYBDAIGD74c79585THsr+E24hgEEAgwAGAQwCfj7LFO4oY8G/UH2peb2UzaaQtlLtSf0MXrGdiw2tJgfY/X04lFmus9lAWsoNJV7cexwGF6oO3PxrHlrEXQYwCGAQwCCAQQCDAAYBDAKSz7pvT4JXVRZceHVV6HhcBtfzA6vgAivdLH4hiaQ/DeFj1I0Yq8qPdPPgsrp13AhZ/NA7Ee4ygEEAgwAGAQwCGAQwCGAQwCCAQQCDAAYBDAIYBDAIYBDAIIBBwCmuZC53034h5Z718uDrnc5cEkoeZDchXMgfnevKAu4ygEEAgwAGAQwCGAQwCGAQcPzATLVXe4a+He7kCE1Gqv6sfiYXhrsMYBDwmyBR7svRKjXXuXuHg6i+yyXxX1rodmvvM3I4yGr16h4b36ikJfzW/rTvbjTfTH6F3ZDWt5cAAAAASUVORK5CYII=",alt:"delete"},null,-1)]))]))}},[["__scopeId","data-v-e0565b9d"]]),ie={class:"content relative p-4"},ue={class:"title relative"},re={class:"text-b1 text-lg font-semibold text-center"},Ae={class:""},ce={class:"text-b1 text-base font-normal"},ve=Q({__name:"AddManagerPop",props:I({loading:{type:Boolean,default:!1}},{show:{},showModifiers:{}}),emits:I(["update:show","confirm"],["update:show"]),setup(A,{emit:w}){const{t:c}=X(),s=V(A,"show"),i=w,a=u("");j(s,n=>{n&&(a.value="")});const v=()=>{a.value&&a.value.trim()?z(a.value.trim())?(i("confirm",a.value.trim()),a.value=""):E(c("Please enter a valid wallet address")):E(c("Please enter your address"))},d=()=>{i("update:show",!1),a.value=""};return(n,o)=>{const f=ae,y=Y,C=M;return g(),x("div",null,[r(C,{show:s.value,"onUpdate:show":o[1]||(o[1]=b=>s.value=b),round:"",position:"bottom","close-on-click-overlay":"",onClose:d,closeable:"","close-icon":H(le),class:"add-manager-popup"},{default:B(()=>[t("div",ie,[t("div",ue,[t("p",re,h(n.$t("Add management address")),1)]),t("div",Ae,[r(f,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=b=>a.value=b),placeholder:n.$t("Please enter your address"),class:"mt-4 mb-4 address-input",type:"textarea",rows:"3",autosize:"",border:"none",maxlength:42,"show-word-limit":!1},null,8,["modelValue","placeholder"])]),r(y,{class:"w-full btn main-btn rounded bg-main",loading:A.loading,onClick:v},{default:B(()=>[t("span",ce,h(n.$t("confirm")),1)]),_:1},8,["loading"])])]),_:1},8,["show","close-icon"])])}}},[["__scopeId","data-v-f23d7a77"]]),fe={class:"page__container bg-gray-main h-full relative"},me={class:"fixed top-0 w-full right-0 left-0"},pe={class:"mx-auto fixed sm:w-[375px] top-[50px] h-[calc(100vh-50px)] right-0 left-0 box-border overflow-y-auto"},ge={class:"overflow-y-scroll h-full pb-[100px] px-3 pt-2"},he={class:"w-full fixed bottom-0 left-0 right-0 py-4 px-3"},we={class:"text-b1 text-base font-normal"},be=R({name:"ManagedConfig"}),xe=Q(Object.assign(be,{setup(A){const{t:w}=X(),c=T().query.id,s=u(!1),i=u(0),a=u(20),v=u(0),d=u(!1),n=u(!1),o=u([]),f=u(!1),y=()=>{o.value=[],i.value=0,a.value=20,v.value=0,d.value=!1,n.value=!1,C()},C=()=>{d.value=!0,i.value+=1,b()},b=()=>{const e={projectId:c,page:i.value,size:a.value};J(e).then(l=>{if(l.code!=200||l.success===!1)return n.value=!0,void(d.value=!1);const m=l.data||[];v.value=m.total,o.value=i.value===1?o.value=m:o.value.concat(m),m.length<a.value&&(n.value=!0)}).catch(l=>{n.value=!0,d.value=!1}).finally(()=>{d.value=!1})},U=()=>{f.value=!0},_=e=>{s.value||(D(e)?(e=e.trim(),s.value=!0,W({projectId:c,address:e}).then(l=>{l.code==200&&l.success!==!1&&(f.value=!1,y())}).finally(()=>{s.value=!1})):E(w("Please enter a valid address")))},D=e=>!(!e.startsWith("0x")&&!e.startsWith("0X")),G=e=>{e.id&&(s.value||(s.value=!0,ee({id:e.id}).then(l=>{l.code==200&&l.success!==!1&&y()}).finally(()=>{s.value=!1})))};return(e,l)=>{const m=$,P=Z,k=q,F=Y;return g(),x("div",fe,[t("section",me,[r(m,{title:e.$t("managed-title")},null,8,["title"])]),t("section",pe,[t("div",ge,[o.value.length!==0||d.value?L("",!0):(g(),N(P,{key:0,name:e.$t("No administrator yet")},null,8,["name"])),r(k,{loading:d.value,"onUpdate:loading":l[0]||(l[0]=p=>d.value=p),finished:n.value,"finished-text":o.value.length===0?"":e.$t("no-more"),onLoad:C},{default:B(()=>[(g(!0),x(K,null,O(o.value,(p,S)=>(g(),x("div",{key:p.id},[r(de,{info:p,index:S+1,onDelete:G,class:"mb-3"},null,8,["info","index"])]))),128))]),_:1},8,["loading","finished","finished-text"])])]),t("section",he,[r(F,{class:"w-full btn main-btn rounded bg-main",onClick:U},{default:B(()=>[t("span",we,h(e.$t("Add management address")),1)]),_:1})]),r(ve,{loading:s.value,show:f.value,"onUpdate:show":l[1]||(l[1]=p=>f.value=p),onConfirm:_},null,8,["loading","show"])])}}}),[["__scopeId","data-v-9972b0af"]]);export{xe as default};
