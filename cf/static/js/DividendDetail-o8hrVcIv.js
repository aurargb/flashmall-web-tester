import{_ as pe}from"./filter-line-Ap-Rztjw.js";import{_ as fe}from"./arrow-right-s-line-mCSGMM6G.js";import{_ as he,b as xe,j as we,k as _e}from"./cf-D0X9PrTD.js";import{_ as ie}from"./TokenAmount-V2Bwu2KM.js";import{_ as ye}from"./DataRow-0sSszyJ5.js";import{_ as re,a8 as be,a9 as De,r as i,ai as c,W as ge,x as v,y as p,e as r,A as f,z as t,C as u,H as b,O as Ce,P as ke,o as Ye,F as ce,G as ue,J as de,af as je,aU as T,__tla as $e}from"./index-Ce_DXvk7.js";import{D as Me}from"./index-DcSy7jCe.js";import{d as Ie}from"./dark-close-SpaTsRy-.js";import{D as Ve,__tla as Te}from"./DividendPointPop-BH8lFp7I.js";import{u as me}from"./index-BmORpdFZ.js";import"./MAI-BT7NZAfN.js";import{__tla as Ue}from"./flashMallContract-BaBlVuqw.js";import{__tla as Pe}from"./contractHelper-BHednLWH.js";let ve,Fe=Promise.all([(()=>{try{return $e}catch{}})(),(()=>{try{return Te}catch{}})(),(()=>{try{return Ue}catch{}})(),(()=>{try{return Pe}catch{}})()]).then(async()=>{let U,P,F,B,N,z,O,R,A,E,H,S,q,G,J,W,K,L,Q,X,Z,ee,te,ae,le,se;U={class:"content relative p-4"},P={class:"title relative"},F={class:"text-b1 text-lg font-semibold text-center"},B={class:"mt-4"},N={class:"text-b1 text-sm ssfont-semibold mb-3"},z={class:"flex items-center gap-2"},O={class:"flex-1 bg-gray4 rounded-md w-[155px] h-9 p-2 text-center flex items-center justify-center"},R={class:"flex-1 bg-gray4 rounded-md w-[155px] h-9 p-2 text-center flex items-center justify-center"},A={class:"mt-8 flex gap-3"},E={class:"text-base font-normal text-b1"},H={class:"text-base font-semibold text-b1"},S=re({__name:"DividendFilterPop",props:{show:{},showModifiers:{}},emits:be(["update:show","filter"],["update:show"]),setup(oe,{emit:D}){const j=De(oe,"show"),d=D,w=i(!1),h=i(!1),g=i([c().year(),c().month()+1,c().date()]),C=i([c().year(),c().month()+1,c().date()]),o=i({type:"",startDate:"",endDate:""}),_=n=>c(n).format("YYYY-MM-DD"),x=ge(()=>o.value.startDate?new Date(o.value.startDate):c().subtract(10,"years").toDate()),$=n=>{const e=n.selectedValues||[],m=e[0],s=e[1],a=e[2];o.value.startDate=c({year:m,month:s-1,day:a}).format("YYYY-MM-DD 00:00:00"),w.value=!1},V=n=>{const e=n.selectedValues||[],m=e[0],s=e[1],a=e[2];o.value.endDate=c({year:m,month:s-1,day:a}).format("YYYY-MM-DD 23:59:59"),h.value=!1},y=()=>{o.value.type="",o.value.startDate="",o.value.endDate="",Y()},k=()=>{d("filter",{startDate:o.value.startDate,endDate:o.value.endDate}),d("update:show",!1)},Y=()=>{d("update:show",!1)},M=()=>{d("update:show",!1)};return(n,e)=>{const m=Ce,s=ke,a=Me;return v(),p("div",null,[r(s,{show:j.value,"onUpdate:show":e[2]||(e[2]=l=>j.value=l),round:"",position:"bottom","close-on-click-overlay":"",onClose:M,closeable:"",onClickOverlay:Y,"close-icon":b(Ie)},{default:f(()=>[t("div",U,[t("div",P,[t("p",F,u(n.$t("Dividend Screening")),1)]),t("div",B,[t("p",N,u(n.$t("Dividend payment time")),1),t("div",z,[t("div",O,[t("span",{onClick:e[0]||(e[0]=l=>w.value=!0),class:"text-b1 text-sm font-normal"},u(o.value.startDate?_(o.value.startDate):n.$t("Start time")),1)]),e[9]||(e[9]=t("span",{class:"text-b2"},"-",-1)),t("div",R,[t("span",{onClick:e[1]||(e[1]=l=>h.value=!0),class:"text-b1 text-sm font-normal"},u(o.value.endDate?_(o.value.endDate):n.$t("End time")),1)])])]),t("div",A,[r(m,{class:"flex-1 reset-btn",onClick:y},{default:f(()=>[t("span",E,u(n.$t("reset")),1)]),_:1}),r(m,{class:"flex-1 confirm-btn",onClick:k},{default:f(()=>[t("span",H,u(n.$t("confirm")),1)]),_:1})])])]),_:1},8,["show","close-icon"]),r(s,{show:w.value,"onUpdate:show":e[5]||(e[5]=l=>w.value=l),position:"bottom",round:""},{default:f(()=>[r(a,{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=l=>g.value=l),onConfirm:$,onCancel:e[4]||(e[4]=l=>w.value=!1)},null,8,["modelValue"])]),_:1},8,["show"]),r(s,{show:h.value,"onUpdate:show":e[8]||(e[8]=l=>h.value=l),position:"bottom",round:""},{default:f(()=>[r(a,{modelValue:C.value,"onUpdate:modelValue":e[6]||(e[6]=l=>C.value=l),"min-date":x.value,onConfirm:V,onCancel:e[7]||(e[7]=l=>h.value=!1)},null,8,["modelValue","min-date"])]),_:1},8,["show"])])}}},[["__scopeId","data-v-653a5ebe"]]),q={class:"page__container bg-flash-linear relative"},G={class:"fixed top-0 w-full right-0 left-0"},J={class:"sm:w-[375px] mx-auto fixed top-[50px] h-[calc(100vh-44px)] w-full right-0 left-0 px-3 pt-2 pb-7 overflow-y-scroll"},W={class:"rounded-xl bg-white p-3"},K={class:"text-b1 text-base font-normal line-clamp-2"},L={class:"mt-4"},Q={class:"text-b1 text-sm font-semibold"},X={class:"ml-1"},Z={key:0,class:"text-center text-b3 test-sm mt-4"},ee={key:1,class:"rounded-xl bg-white p-3 mt-3 flex fle-row justify-between items-start"},te={class:"left-col w-2 relation-mark"},ae={class:"right-col ml-3 w-full"},le=["onClick"],se={class:"text-b3 font-normal text-sm whitespace-nowrap"},ve=re({__name:"DividendDetail",setup(oe){const[D,j]=me(!1),[d,w]=me(!1),h=je(),g=i(!1),C=i(h.query.id),o=i({}),_=i({startTime:"",endTime:"",page:1,size:9999}),x=i([]),$=async()=>{const s={projectId:C.value,..._.value};we(s).then(a=>{a.success&&(x.value=a.data.records||[])}).catch(a=>{x.value=[]})},V=s=>{_.value.startTime=s.startDate||null,_.value.endTime=s.endDate||null,$()},y=i({}),k=i([]),Y=i(0),M=i(""),n=()=>{e()},e=async()=>{const s={projectId:y.value.projectId,projectBonusId:y.value.id};M.value=y.value.id;const a=await _e(s);a.success?k.value=a.data||[]:k.value=[]};Ye(()=>{(async()=>{const s={id:C.value};g.value=!0;try{const a=await xe(s);if(a.code===200&&a.success){const l=a.data;o.value=l}}catch(a){console.error("\u83B7\u53D6\u9879\u76EE\u8BE6\u60C5\u5931\u8D25:",a)}finally{g.value=!1}})(),$()});const m=()=>{j(!0)};return(s,a)=>(v(),p("div",q,[t("section",G,[r(he,{title:s.$t("Dividend Details")},{right:f(()=>[t("div",{class:"w-[22px] h-[22px]",onClick:m},a[2]||(a[2]=[t("img",{src:pe,class:"w-[22px] h-[22px]",alt:"Filter Tools"},null,-1)]))]),_:1},8,["title"])]),t("section",J,[t("div",W,[t("p",K,u(o.value.title||"--"),1),t("div",L,[r(ie,{title:s.$t("Crowdfunding amount"),mcoin:o.value.collectedMcoin,mai:o.value.collectedMai,point:o.value.collectedPoint,type:o.value.targetType},null,8,["title","mcoin","mai","point","type"]),r(ye,{title:s.$t("Number of crowdfunding copies"),class:"mt-2"},{right:f(()=>[t("span",Q,u(o.value.collectedNum||0),1),t("span",X,u(s.$t("serving")),1)]),_:1},8,["title"])])]),x.value.length===0?(v(),p("p",Z,u(s.$t("No dividend record")),1)):(v(),p("div",ee,[t("div",te,[(v(!0),p(ce,null,ue(x.value,l=>(v(),p("div",{key:l.id,class:"relation-mark-item"},a[3]||(a[3]=[t("div",{class:"circle"},null,-1),t("div",{class:"line"},null,-1)])))),128))]),t("div",ae,[(v(!0),p(ce,null,ue(x.value,l=>(v(),p("div",{key:l.id},[t("div",{class:"flex justify-end",onClick:I=>(ne=>{d.value=!0,Y.value=ne.point||0,y.value=ne||{},e()})(l)},[r(ie,{title:s.$t("Crowdfunding amount"),mcoin:b(T)(l.mcoin),mai:b(T)(l.mai),point:b(T)(l.point),"point-text":s.$t("MC gift points"),type:50,class:"mb-6 w-full whitespace-nowrap"},{default:f(()=>{return[t("span",se,u((I=l.createTime,(I?c(I).format("YYYY-MM-DD"):"")||"--")),1)];var I}),_:2},1032,["title","mcoin","mai","point","point-text"]),a[4]||(a[4]=t("div",{class:"w-4 h-6 flex items-center justify-center ml-1"},[t("img",{src:fe,class:"w-4 h-4",alt:""})],-1))],8,le)]))),128))])]))]),r(S,{ref:"dividendFilterRef",show:b(D),"onUpdate:show":a[0]||(a[0]=l=>de(D)?D.value=l:null),onFilter:V},null,8,["show"]),r(Ve,{show:b(d),"onUpdate:show":a[1]||(a[1]=l=>de(d)?d.value=l:null),list:k.value,project:o.value,currentPoint:Y.value,projectBonusId:M.value,onRefresh:n},null,8,["show","list","project","currentPoint","projectBonusId"])]))}},[["__scopeId","data-v-20bd2ced"]])});export{Fe as __tla,ve as default};
