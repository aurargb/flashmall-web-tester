import{W as C,x as $,y as F,z as e,C as l,bf as E,Y as N,Z as D,D as A,F as I,r as v,ad as T,ai as p}from"./index-Ce_DXvk7.js";import{a as f}from"./projectEnum-9kZKCKr4.js";const B={class:"flex justify-between"},_={class:"text-b3 text-sm font-normal"},M={class:"text-b1 text-base font-semibold"},R={class:"relative mt-1"},j={class:"w-full h-full absolute left-0 right-0 top-0 bg-transparent flex justify-center items-center"},H={__name:"processBar",props:{progress:{type:[Number,String],default:0},status:{type:String,default:""},showCount:{type:Boolean,default:!0},count:{type:[Number,String],default:0},total:{type:[Number,String],default:0},colorThreshold:{type:Number,default:60},thresholdBeforeColor:{type:String,default:"text-b2"},thresholdAfterColor:{type:String,default:"text-b6"}},setup(t){const s=t,i=C(()=>s.status==f.SUCCEED||s.status==f.CONFIRMED?"#07C160":s.status==f.FAILED?"#999":s.status==f.IN_PROGRESS?"linear-gradient(275deg, #FEA021 0%, #FED73A 100%)":"#999");return(r,a)=>($(),F(I,null,[e("div",B,[e("p",_,l(r.$t("schedule")),1),e("p",M,l(t.progress??0)+"%",1)]),e("div",R,[a[0]||(a[0]=e("div",{class:"progress-bar bg-[#F5F5F5] h-[18px] w-full rounded-lg"},null,-1)),e("div",{class:"progress-bar-fill bg-gray1 h-full rounded-lg absolute left-0 top-0 max-w-[100%]",style:E({background:i.value,width:`${t.progress}%`})},null,4),N(e("div",j,[e("span",{class:A(["text-xs font-semibold whitespace-nowrap",Number(t.progress)>=t.colorThreshold?t.thresholdAfterColor:t.thresholdBeforeColor])},l(t.count)+"\xA0/\xA0"+l(t.total)+"\xA0"+l(r.$t("serving")),3)],512),[[D,t.showCount]])])],64))}};function O(t={}){const{endText:s="\u5DF2\u7ED3\u675F",format:i="HH:mm:ss",onEnd:r}=t,a=v(""),c=v(!1);let n=null;const g=o=>{if(!o)return;const y=p(o),w=p(),h=p.duration(y.diff(w));if(h.asMilliseconds()<=0)return a.value=s,c.value=!0,r==null||r(),void u();a.value=(d=>{const m=Math.floor(d.asDays()),b=d.hours().toString().padStart(2,"0"),x=d.minutes().toString().padStart(2,"0"),S=d.seconds().toString().padStart(2,"0");return m>0?`${m}\u5929 ${b}:${x}:${S}`:`${b}:${x}:${S}`})(h)},u=()=>{n&&(clearInterval(n),n=null)};return T(()=>{u()}),{remainingTimeText:a,endFlag:c,startCountdown:o=>{u(),g(o),n=window.setInterval(()=>g(o),1e3)},stopCountdown:u}}export{H as _,O as u};
