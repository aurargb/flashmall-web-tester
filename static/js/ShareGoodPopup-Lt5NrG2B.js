import{x as L,F as d,G as o,H as t,X as u,R as V,P as a,Q as c,a4 as z,_ as P,y as B,bf as ve,z as Z,E as A,O as h,a1 as D,Z as G,$ as M,be as H,N as _,w as ye,r as T,D as ee,a9 as xe,K as I,I as we,a0 as be,T as j,a3 as $e,B as W,bc as _e,bd as ke,bo as Se}from"./vendor-BlU_hoYl.js";import{_ as Te}from"./avatarRing-CLGxkH-F.js";import{b as Ie,g as Be,r as te,h as Ce,W as X,aC as De,aD as Ae,aG as Pe,d as q,f as Le}from"./index-Clz0Qna-.js";import{_ as Re}from"./shop-arrow-right-BMae5SG7.js";import{B as Fe}from"./BoutiqueLabelInLogo-BBB_wfVh.js";import{R as se}from"./RatioBox-CfBlBgLi.js";import{_ as Ee}from"./kefu-DRX49rvc.js";import{a as Ue,S as je,b as Oe}from"./GivePointsLable-DaN3ty1D.js";import{c as Ne}from"./goods-lQayGTeI.js";import{D as N}from"./goods-BVwS8oFG.js";import{c as oe,i as le,s as ne}from"./convertToImage-B2yuKPNR.js";import{d as Y}from"./active_empty-OYjsVrLW.js";import{H as Ve}from"./HelpPop-B80flZ_3.js";import{_ as ae}from"./MCOIN-Bodfn-v1.js";import{S as C}from"./shop-CeqcS6K2.js";import{F as O}from"./enums-DlE-aiss.js";import{_ as He}from"./logo-D1FnEJzd.js";const Qs=""+new URL("../images/back-qlZFCCJ2.svg",import.meta.url).href,Js=""+new URL("../images/share-BeKzdeAF.svg",import.meta.url).href,Ws=""+new URL("../images/all-comment-6aSJsIbE.svg",import.meta.url).href,qe={class:"flex"},ze={class:"flex items-center mb-1"},Ge=t("div",{class:"w-[20px] h-[20px] rounded-full overflow-hidden mr-1 flex-shrink-0"},[t("img",{src:Te,class:"w-full h-full object-cover",alt:"用户头像"})],-1),Me={class:"flex-1"},Ke={class:"text-b3 text-sm font-normal"},Qe={class:"overflow-hidden text-sm font-normal text-b2 line-clamp-2"},Je=["src"],We={key:0,class:"absolute bottom-0 right-0 rounded-br-md text-xs leading-4 px-1.5 bg-black/50 text-white"},Xs={props:{data:Object,isOffline:{type:Boolean,default:!1}},emits:["click","imgPre"],setup(e,{emit:r}){const l=e,s=L(()=>l.isOffline?l.data.commentPics&&l.data.commentPics.split(",")[0]:l.data.commentImages&&l.data.commentImages.split(",")[0]),p=L(()=>l.isOffline?l.data.commentPics&&l.data.commentPics.split(",").length:l.data.commentImages&&l.data.commentImages.split(",").length);return(x,m)=>(o(),d("div",{class:"bg-transparent rounded-lg",onClick:m[1]||(m[1]=f=>r("click"))},[t("div",qe,[t("div",{class:V(a(s)?"flex-1":"w-full")},[t("div",ze,[Ge,t("div",Me,[t("div",Ke,c(a(Ie)(e.data.address||e.data.orderCustomerAddress,"***",4,4)),1)])]),t("div",Qe,c(e.data.commentStar?e.data.commentContent||x.$t("evaluate.The user has not filled in the text")+"...":""),1)],2),a(s)?(o(),d("div",{key:0,onClick:m[0]||(m[0]=z(f=>r("imgPre",a(s)),["stop"])),class:"w-[64px] h-[64px] ml-2 flex-shrink-0 relative"},[t("img",{class:"object-cover w-full h-full rounded-md aspect-square",src:a(s)},null,8,Je),a(p)>1?(o(),d("div",We,c(a(p)),1)):u("",!0)])):u("",!0)])]))}},Xe=e=>(G("data-v-34bb0674"),e=e(),M(),e),Ye={class:"w-full flex justify-start items-center"},Ze={class:"w-10 h-10 rounded-[4px] overflow-hidden flex-shrink-0 relative"},et=["src"],tt={class:"absolute right-0 top-0"},st={class:"ml-1 h-10 flex flex-col justify-between items-start"},ot={class:"text-base font-semibold text-b1 line-clamp-1 max-w-max leading-[22px] flex items-center"},lt=Xe(()=>t("img",{src:Re,class:"shrink-0 w-4 h-4 object-cover"},null,-1)),nt={class:"flex items-center text-xs text-primary"},at={class:"ml-1"},it={class:"h-10 flex flex-col justify-start items-center ml-auto flex-shrink-0"},ct=B({props:{shop:null},emits:["handleTo"],setup(e,{emit:r}){const l=e;return ve({}),Z(()=>l.shop.id,()=>{},{immediate:!0}),(s,p)=>{const x=A("van-rate");return o(),d("div",{class:"px-4 py-3 mt-2 bg-white text-base",onClick:p[1]||(p[1]=m=>r("handleTo",`/shop?shopId=${e.shop.id}`))},[t("div",Ye,[t("div",Ze,[t("img",{src:e.shop.logo||e.shop.scenery&&e.shop.scenery.split(",")[0]||a(Be)("images/goods/defaultImg.png"),class:"w-10 h-full object-cover"},null,8,et),t("div",tt,[h(Fe,{type:e.shop.type},null,8,["type"])])]),t("div",st,[t("div",ot,[D(c(e.shop.storeName)+" ",1),lt]),t("div",nt,[h(x,{class:"flex-shrink-0",readonly:"","allow-half":"",modelValue:e.shop.star,"onUpdate:modelValue":p[0]||(p[0]=m=>e.shop.star=m),size:14,gutter:"1",color:"#FEA021"},null,8,["modelValue"]),t("span",at,c(e.shop.star),1)])]),t("div",it,[h(se,{tag:s.$t("common.rebate"),ratio:e.shop.discountRatio||0},null,8,["tag","ratio"])])])])}}}),Ys=P(ct,[["__scopeId","data-v-34bb0674"]]),ie=""+new URL("../images/collect_b-kiXhnb3F.svg",import.meta.url).href,ce=""+new URL("../images/collect_gray-BYsbfCdJ.svg",import.meta.url).href,dt={class:"w-[335px] relative rounded-none",id:"serverQR"},rt={class:"img-box rounded-none"},mt=["src"],ut={key:0,class:"fixed left-0 w-full px-2.5 flex-center-bw top-1.5"},pt={class:"ml-1 text-sm font-normal"},ft=B({props:{show:{type:Boolean},imgUrl:null},emits:["close","onSuccess"],setup(e,{emit:r}){const l=e,{loadingToggle:s}=te(),p=L(()=>l.imgUrl?l.imgUrl.startsWith("http")?l.imgUrl+"?"+new Date().getTime():Y:Y),[x,m]=H(!1),f=()=>{r("close")},R=()=>{m(!0),s(!0),document.getElementById("serverQR")?setTimeout(()=>{k()},200):setTimeout(()=>{k()},3e3)},k=async()=>{let g=document.getElementById("serverQR");g.style.display="block";const w=await oe(g);await le(w)&&ne(w,"img")&&setTimeout(()=>{f(),m(!1),s(!1),r("onSuccess")},3e3)};return(g,w)=>{const S=A("van-icon"),F=A("VanButton");return l.show?(o(),d("div",{key:0,class:"popup-overlay",onClick:f},[t("div",dt,[t("div",rt,[t("img",{src:a(p),alt:"",crossOrigin:"anonymous"},null,8,mt)]),a(x)?u("",!0):(o(),d("div",ut,[h(F,{class:"text-sm h-[30px] min-w-[65px] rounded-2xl text-white share-btn",onClick:z(R,["stop"])},{default:_(()=>[h(S,{name:"back-top",class:"rotate-180",size:"14"}),t("span",pt,c(g.$t("common.save")),1)]),_:1},8,["onClick"]),t("div",{class:"share-btn w-[30px] h-[30px] rounded-full flex justify-center items-center text-white text-lg",onClick:f},[h(S,{name:"cross"})])]))])])):u("",!0)}}}),ht=P(ft,[["__scopeId","data-v-062c2a0c"]]),de=e=>(G("data-v-799896d2"),e=e(),M(),e),gt={class:"w-full flex items-center justify-between bg-white rounded-full sm:w-[355px]"},vt={class:"flex justify-end gap-6"},yt={key:0,class:"text-xs text-center"},xt=de(()=>t("img",{src:Ee,class:"w-6 h-6 mb-0.5"},null,-1)),wt={class:"text-[#999] text-xs"},bt={key:0,src:ie,class:"w-6 h-6 mb-0.5"},$t={key:1,src:ce,class:"w-6 h-6 mb-0.5"},_t={class:"text-[#999] text-xs"},kt={key:0,src:ie,class:"w-6 h-6 mb-0.5"},St={key:1,src:ce,class:"w-6 h-6 mb-0.5"},Tt={class:"text-[#999] text-xs"},It={key:0,class:"flex flex-1 justify-end ml-6"},Bt={class:"flex items-center"},Ct=de(()=>t("img",{src:Ue,class:"h-6 m-auto mr-1 w-11"},null,-1)),Dt={key:0,class:"text-center text-white"},At={class:"text-sm leading-3"},Pt={class:"text-lg font-medium leading-5"},Lt=D(" Mcoin "),Rt={class:"text-[0.675rem]"},Ft={class:"mr-0.5"},Et={key:1,class:"py-2.5 ml-2 text-[#999] text-base"},Ut={key:2,class:"py-2.5 ml-2 text-[#999] text-base"},jt=B({props:{isFollow:{type:Boolean},goodsId:null,isSale:{type:Boolean},isSaleEnd:{type:Boolean},isSaleStart:{type:Boolean},isSaleOver:{type:Boolean},goods:null,systemTime:null,currentAmount:null,totalAmount:null,payType:null,boutiqueFlag:{type:Boolean},deliveryType:null,shop:null,stock:null,goodsTypes:null},emits:["handleConnect","handleBuy","handleAddCart","toPurchase","handleOffine"],setup(e,{expose:r,emit:l}){const s=e,[p,x]=H(!1),{t:m}=ye(),f=T(!1),[R,k]=H(!1),g=T(!1),w=T([]),S=T(null),F=n=>{var i;if(n.id==="metakey"){try{window==null||window.handleCustomerService({shopId:(i=s.goods)==null?void 0:i.shopId})}catch(v){console.log(v)}return}if(n.id==="downloadmetakey"){me();return}n.customerServiceLink?n.customerServiceLink.includes("img.s3")?(S.value=n.customerServiceLink,x(!0)):(j({message:m("common.link copy and open"),duration:4e3}),Ce(n.customerServiceLink)):j({message:m("common.no service")})},re=async()=>{const n=s.shop.id,i=await Pe(n);if(i.success){const v=[];i.data.forEach(b=>{b.customerServiceLink&&v.push({text:b.nickname,id:b.id,customerServiceLink:b.customerServiceLink,disabled:!1})}),w.value=v,R.value?v.unshift({text:m("common.meta-key-service"),id:"metakey",disabled:!1}):v.unshift({text:m("common.meta-key-service"),id:"downloadmetakey",disabled:!1})}},U=T(!1),me=()=>{U.value=!0};Z(()=>s.shop,()=>{var n;(n=s.shop)!=null&&n.id&&re()},{immediate:!0,deep:!0});const K=T(!1),ue=L(()=>[{text:m("piggy.normalBuy"),id:1}]),pe=n=>{l("handleBuy",`payType=${n.id}`)},fe=()=>{$.value||($.value=!0,Ne({goodsIds:[s.goodsId],type:f.value?2:1,collectType:s.isSale?2:1}).then(n=>{n.success&&(f.value?j({message:m("common.cancel collect"),icon:X("toast-success.svg")}):j({message:m("common.collect success"),icon:X("toast-success.svg")}),f.value=!f.value)}).finally(()=>{$.value=!1}))},$=T(!1),he=async()=>{var v,b,y,Q,J;if($.value||!((v=s.goods)!=null&&v.goodsId))return;let n={};(b=s.goods)!=null&&b.goodsId&&(n.goodsId=(y=s.goods)==null?void 0:y.goodsId),(Q=s.goods)!=null&&Q.storeId&&(n.storeId=(J=s.goods)==null?void 0:J.storeId),$.value=!0;const i=await De(n);$.value=!1,i.success&&(s.goods.collectId=i.data)},ge=async()=>{var v;if($.value||!((v=s.goods)!=null&&v.collectId))return;let n={ids:[s.goods.collectId]};$.value=!0;const i=await Ae(n);$.value=!1,i.success&&(s.goods.collectId=null)};return r({}),ee(()=>{var n;f.value=s.isFollow,(n=window.ethereum)!=null&&n.isMetaKey?k(!0):k(!1)}),xe(()=>{}),(n,i)=>{const v=A("van-popover"),b=A("VanButton");return o(),d("div",{class:V(["fixed bottom-0 sm:left-1/2 sm:-translate-x-2/4 left-0 sm:w-[375px] w-full bg-white flex-center py-4 px-3 font-Puhui font-normal",a(p)?"z-[2003]":"z-20"])},[t("div",gt,[t("div",vt,[h(v,{show:g.value,"onUpdate:show":i[0]||(i[0]=y=>g.value=y),actions:w.value,onSelect:F,placement:"top-start",trigger:"click"},{reference:_(()=>[w.value.length>0?(o(),d("div",yt,[xt,t("div",wt,c(n.$t("common.service")),1)])):u("",!0)]),_:1},8,["show","actions"]),!e.isSale&&e.deliveryType===a(N).online?(o(),d("div",{key:0,class:"text-xs text-center",onClick:fe},[f.value?(o(),d("img",bt)):(o(),d("img",$t)),t("div",_t,c(n.$t("common.collect")),1)])):u("",!0),!e.isSale&&e.deliveryType===a(N).offeline?(o(),d("div",{key:1,class:"text-xs text-center",onClick:i[1]||(i[1]=y=>e.goods.collectId?ge():he())},[e.goods.collectId?(o(),d("img",kt)):(o(),d("img",St)),t("div",Tt,c(n.$t("common.collect")),1)])):u("",!0)]),e.isSale?(o(),I(b,{key:1,class:V(["min-w-[60px] rounded-3xl px-2.5",s.isSaleEnd||s.isSaleStart||s.currentAmount>=s.totalAmount?"bg-[#D9D9D9]":"bg-[#FB1A18]"]),disabled:s.isSaleStart||s.isSaleEnd||s.currentAmount>=s.totalAmount,onClick:i[6]||(i[6]=()=>{l("toPurchase")})},{default:_(()=>[t("div",Bt,[Ct,!s.isSaleEnd&&!s.isSaleStart&&s.currentAmount<s.totalAmount?(o(),d("div",Dt,[t("div",At,[t("span",Pt,c(e.goods.price),1),Lt]),t("div",Rt,[t("span",Ft,c(n.$t("refund.TotalNum",{num:e.totalAmount})),1),t("span",null,c(n.$t("flashSale.Already snatched"))+c(s.currentAmount)+c(n.$t("common.pieces")),1)])])):s.isSaleStart?(o(),d("div",Et,c(n.$t("common.no start")),1)):(o(),d("div",Ut,c(s.currentAmount>=s.totalAmount?n.$t("flashSale.Alreadygrabbed"):n.$t("flashSale.gooderror")),1))])]),_:1},8,["disabled","class"])):(o(),d("div",It,[e.deliveryType===a(N).online?(o(),d(we,{key:0},[h(b,{class:"w-full px-6 text-sm text-newOrigin rounded-r-none bg-newOrigin/20 rounded-l-3xl font-semibold",disabled:e.stock===0&&e.goodsTypes!=2,onClick:i[2]||(i[2]=z(y=>l("handleAddCart"),["stop"]))},{default:_(()=>[D(c(n.$t("common.addCart")),1)]),_:1},8,["disabled"]),e.payType!==3||e.boutiqueFlag?(o(),I(b,{key:0,class:"w-full px-6 text-sm text-b1 rounded-l-none rounded-r-3xl bg-btnOrBg font-semibold",onClick:i[3]||(i[3]=()=>l("handleBuy",e.payType===2?"":"payType=1")),disabled:e.stock===0&&e.goodsTypes!=2},{default:_(()=>[D(c(e.payType===2?n.$t("piggy.cardBuy"):n.$t("common.Buy it now")),1)]),_:1},8,["disabled"])):(o(),I(v,{key:1,placement:"top",show:K.value,"onUpdate:show":i[4]||(i[4]=y=>K.value=y),actions:a(ue),onSelect:pe},{reference:_(()=>[h(b,{class:"w-full px-5 text-sm text-white bg-primary rounded-r-3xl font-semibold",disabled:e.stock===0&&e.goodsTypes!=2},{default:_(()=>[D(c(n.$t("common.Buy it now")),1)]),_:1},8,["disabled"])]),_:1},8,["show","actions"]))],64)):(o(),I(b,{key:1,class:"w-full text-sm text-b1 font-semibold text-center bg-btnOrBg rounded-3xl",onClick:i[5]||(i[5]=()=>l("handleOffine")),text:n.$t("common.payBill")},null,8,["text"]))]))]),h(ht,{show:a(p),"onUpdate:show":i[7]||(i[7]=y=>be(p)?p.value=y:null),imgUrl:S.value,onOnSuccess:i[8]||(i[8]=y=>a(x)(!1)),onClose:i[9]||(i[9]=y=>a(x)(!1))},null,8,["show","imgUrl"]),h(Ve,{show:U.value,"onUpdate:show":i[10]||(i[10]=y=>U.value=y),display:["download","account","wallet","auth"],onClose:i[11]||(i[11]=y=>U.value=!1)},null,8,["show"])],2)}}}),Zs=P(jt,[["__scopeId","data-v-799896d2"]]),Ot=B({props:{type:{default:0}},setup(e){return(r,l)=>(o(),d("div",null,[e.type!==a(C).SD?(o(),d("span",{key:0,class:V([{"bg-[#FF4444] text-b6":e.type===a(C).SL,"bg-[#FF8812] text-b6":e.type===a(C).PR,"bg-[#FED73A] text-b1":e.type===a(C).ST},"tag__wrap px-1 text-sm font-semibold rounded-[4px] whitespace-nowrap mr-1 relative top-[-1.5px]"])},c(e.type===a(C).SL?r.$t("common.boutique"):e.type===a(C).PR?r.$t("mall.Best"):r.$t("shop.Star Selection")),3)):u("",!0),$e(r.$slots,"default")]))}}),Nt={class:"ship-template-label"},Vt={key:0},Ht={key:1},qt={key:2},zt={key:3},Gt=B({props:{shippingTemplate:{default:()=>({})}},setup(e){return(r,l)=>(o(),d("div",Nt,[e.shippingTemplate.type===a(O).FREE&&e.shippingTemplate.threshold?(o(),d("span",Vt,c(r.$t("shop.shippingTemplate.actualPayment"))+c(a(q)(e.shippingTemplate.threshold))+c(r.$t("shop.shippingTemplate.freeShipping")),1)):u("",!0),e.shippingTemplate.type===a(O).FREE&&e.shippingTemplate.threshold===0?(o(),d("span",Ht,c(r.$t("shop.shippingTemplate.freeShipping")),1)):u("",!0),e.shippingTemplate.type===a(O).NO_SHIPPING?(o(),d("span",qt,c(r.$t("shop.shippingTemplate.noShipping")),1)):u("",!0),e.shippingTemplate.type===a(O).CASH_ON_DELIVERY?(o(),d("span",zt,c(r.$t("shop.shippingTemplate.cashOnDelivery")),1)):u("",!0)]))}}),Mt=P(Gt,[["__scopeId","data-v-aaafc9da"]]),Kt={class:"balance-template-label"},Qt={key:0},Jt=B({props:{type:{default:0}},setup(e){return(r,l)=>(o(),d("div",Kt,[e.type!==a(C).SD?(o(),d("span",Qt," 支持余额支付 ")):u("",!0)]))}}),Wt=P(Jt,[["__scopeId","data-v-ef7b501a"]]),Xt=e=>(G("data-v-f7cba2c4"),e=e(),M(),e),Yt={class:"px-4 py-3 rounded-t-xl -translate-y-3 bg-white relative font-Puhui"},Zt={class:"main-price__wrap flex justify-between items-center"},es={class:"price__block flex flex-row justify-start items-center h-[26px] leading-[26px]"},ts=Xt(()=>t("img",{class:"w-4 h-4 flex-shrink-0",src:ae},null,-1)),ss={class:"text-[26px] font-normal font-BebasNeue text-b1 ml-1 h-[26px] leading-[26px] translate-y-[2px]"},os={class:"goods-info__wrap mt-3"},ls={class:"goods-name flex flex-wrap text-lg font-bold text-b1 leading-[26px] whitespace-pre-wrap font-Puhui"},ns={class:"text-lg font-bold text-b1 leading-[26px] whitespace-pre-wrap font-Puhui"},as={key:1,class:"text-lg font-bold text-b1 leading-[26px] whitespace-pre-wrap font-Puhui"},is={key:0,class:"goods-description mt-1 text-sm text-b3 font-normal leading-5 line-clamp-2 font-Puhui"},cs={class:"mt-1 flex flex-row justify-start items-center gap-2"},ds=B({props:{tokenRate:null,shop:null,goods:null,discountRatio:null,isSale:{type:Boolean,default:!1},card:null,shippingTemplate:{default:()=>({})}},setup(e){const r=e,{tradeContributeSelfRate:l}=Le(),s=T(0);L(()=>{const m=+new W(new W(r.goods.goodsDiscountRatio).div(100)).times(r.goods.price).times(s.value);return q(m,2)});const p=async()=>{s.value=await l()},x=async()=>{p()};return ee(()=>{x()}),(m,f)=>(o(),d("div",Yt,[t("div",Zt,[t("div",es,[ts,t("span",ss,c(a(q)(e.goods.price||0)),1)]),t("div",null,[h(se,{tag:m.$t("common.rebate"),ratio:e.discountRatio||0},null,8,["tag","ratio"])])]),t("div",os,[t("div",ls,[e.goods.type?(o(),I(Ot,{key:0,type:e.goods.type},{default:_(()=>[t("span",ns,c(e.goods.goodsName),1)]),_:1},8,["type"])):(o(),d("span",as,c(e.goods.goodsName),1))]),e.goods.goodsDesc?(o(),d("div",is,c(e.goods.goodsDesc),1)):u("",!0),t("div",cs,[e.goods.deliveryType==2?(o(),I(je,{key:0,deliveryType:e.goods.deliveryType},null,8,["deliveryType"])):u("",!0),e.goods.deliveryType==1&&e.shippingTemplate.id?(o(),I(Mt,{key:1,shippingTemplate:e.shippingTemplate},null,8,["shippingTemplate"])):u("",!0),e.goods.type?(o(),I(Wt,{key:2,type:e.goods.type},null,8,["type"])):u("",!0)])])]))}}),eo=P(ds,[["__scopeId","data-v-f7cba2c4"]]),E=e=>(G("data-v-e260fc0e"),e=e(),M(),e),rs={class:"w-[335px] relative",id:"saveHtml"},ms={class:"img-box"},us=["src"],ps={key:0,class:"fixed left-0 w-full px-2.5 flex-center-bw top-1.5"},fs=E(()=>t("div",null,null,-1)),hs={class:"px-2.5 py-2"},gs={class:"flex items-center justify-start text-primary"},vs=E(()=>t("div",{class:"mr-1.5 w-6 flex-shrink-0"},[t("img",{class:"w-6 h-6",src:ae})],-1)),ys={class:"text-[#FEA021] text-3xl font-medium mr-1"},xs=E(()=>t("span",{class:"text-base"},"Mcoin",-1)),ws={class:"self-center ml-4"},bs={class:"mt-1 text-sm font-semibold text-left text-default"},$s={class:"flex items-center justify-between pt-8"},_s={class:"flex items-center"},ks={class:"border border-solid border-black/20 p-0.5"},Ss={class:"ml-3 text-sm text-black-800 opacity-80"},Ts=E(()=>t("br",null,null,-1)),Is=E(()=>t("img",{src:He,class:"w-[60px] h-[60px] object-contain"},null,-1)),Bs={key:1,class:"fixed w-fit px-2.5 left-1/2 bottom-9 transform -translate-x-1/2"},Cs={class:"ml-1 text-sm font-normal"},Ds=B({props:{show:{type:Boolean},goods:null,codeUrl:null},emits:["close","onSuceess"],setup(e,{emit:r}){const l=e,{loadingToggle:s}=te(),p=L(()=>l.codeUrl||window.location.origin+"/#/goodsDetail?id="+l.goods.id),[x,m]=H(!1),f=()=>{r("close")},R=()=>{m(!0),s(!0),document.getElementById("saveHtml")?setTimeout(()=>{k()},200):setTimeout(()=>{k()},3e3)},k=async()=>{let g=document.getElementById("saveHtml");g.style.display="block";const w=await oe(g);await le(w)&&ne(w,l.goods.goodsName||l.goods.title||"")&&setTimeout(()=>{f(),m(!1),s(!1),r("onSuceess")},3e3)};return(g,w)=>{const S=A("van-icon"),F=A("VanButton");return l.show?(o(),d("div",{key:0,class:"popup-overlay",onClick:f},[t("div",{class:"popup-content",onClick:w[0]||(w[0]=z(()=>{},["stop"]))},[t("div",rs,[t("div",ms,[t("img",{src:(l.goods.icons||l.goods.mainImageUrls||"").split(",")[0]+"?"+new Date().getTime(),alt:"",crossOrigin:"anonymous"},null,8,us)]),a(x)?u("",!0):(o(),d("div",ps,[fs,t("div",{class:"share-btn w-[30px] h-[30px] rounded-full flex justify-center items-center text-white text-lg",onClick:f},[h(S,{name:"cross"})])])),t("div",hs,[t("div",gs,[vs,t("div",null,[t("span",ys,c(a(q)(l.goods.price||0)),1),xs]),_e(t("div",ws,[h(Oe,{goods:e.goods},null,8,["goods"])],512),[[ke,e.goods.deliveryType===a(N).online]])]),t("div",bs,c(l.goods.goodsName||l.goods.title||""),1),t("div",$s,[t("div",_s,[t("div",ks,[h(Se,{value:a(p),size:60,level:"H"},null,8,["value"])]),t("div",Ss,[D(c(g.$t("common.new found")),1),Ts,D(c(g.$t("common.share you")),1)])]),Is])]),a(x)?u("",!0):(o(),d("div",Bs,[h(F,{class:"text-sm h-[30px] min-w-[65px] rounded-2xl text-white share-btn",onClick:R},{default:_(()=>[h(S,{name:"back-top",class:"rotate-180",size:"14"}),t("span",Cs,c(g.$t("common.save img")),1)]),_:1})]))])])])):u("",!0)}}}),to=P(Ds,[["__scopeId","data-v-e260fc0e"]]);export{eo as G,Ys as S,Xs as _,Ws as a,Zs as b,to as c,Qs as d,Js as e};
