import{_ as O,y as U,w as q,r as D,bf as b,be as w,D as E,F as k,G as _,H as t,K as y,a2 as H,O as a,Q as d,P as r,E as c,N as p,$ as K,Y as T,Z as J,a1 as M,l as G,I as Q,J as Y,a0 as Z}from"./vendor-Ba70TIw4.js";import{B as W}from"./BackIcon-DkqwcD_b.js";import{_ as X}from"./BuyerDeliveredItem-CU5FuyXV.js";import{r as ee,bk as oe}from"./index-DiRx6UeW.js";import{r as te}from"./refund-BF4h16bv.js";import{l as se}from"./luckyShopContract-5o4r50nj.js";import"./MCOIN-Bodfn-v1.js";import"./USDT-Dlu99aCg.js";import"./useOrderStatus-eiwKm5Dv.js";import"./order-H59PKTFP.js";import"./flashSale-DDyqLyYN.js";import"./useShipTemplate-CJrw2UwP.js";import"./enums-DlE-aiss.js";import"./useRefund-Dpqhghzq.js";import"./default-avatar-BIKCDGrQ.js";const ae=""+new URL("../images/chongdian-icon-DMO16_K9.png",import.meta.url).href,ne=u=>(T("data-v-29189d82"),u=u(),J(),u),re={class:"px-3 bg-[#f2f0ef]"},ce={class:"gap-2 mt-2 flex-start"},ie={class:"px-3 py-4 mt-3 bg-white rounded-xl"},le={class:"flex items-center mb-5"},de=ne(()=>t("img",{src:ae,class:"w-[18px] h-[18px]"},null,-1)),pe={class:"ml-1 font-semibold"},ue={class:"flex items-center"},me={class:"ml-1"},_e={class:"mt-[18px] mb-[20px] font-semibold text-base text-center"},fe={class:"m-auto text-center"},he=U({setup(u){const{loadingToggle:l}=ee(),{luckyProtestSent:x}=se(),g=M(),R=G(),{locale:N}=q(),v=D(null),S=b({page:1,size:999,type:2}),n=b({reasonList:[],checked:null}),[f,L]=w(!1),[V,h]=w(!1),C=async()=>{h(!0),l(!0);const o={id:g.query.id,fmRefundReasonId:n.checked};if(!(await oe(o)).success){h(!1),l(!1);return}const i=await x(+g.query.goodId);h(!1),l(!1),i.success&&R.push("/buyerOrderList?active=0&type=2")},B=async()=>{const{success:o,data:e}=await te(S);if(o){const i=I(N.value);e.length>0&&(n.checked=e[0].id),n.reasonList=e.map(m=>({...m,showName:m[i]}))}},I=o=>{let e="cnFtName";switch(o){case"zh-CN":e="jtName";break;case"zh-HK":e="cnFtName";break;case"en-US":e="enName";break;case"ja-JP":e="japanName";break}return e},$=async()=>{l(!0),B(),l(!1)};return E(async()=>{await $()}),(o,e)=>{const i=c("van-icon"),m=c("van-radio"),P=c("van-cell"),A=c("van-cell-group"),F=c("van-radio-group"),j=c("VanButton"),z=c("VanPopup");return _(),k("div",re,[t("div",ce,[a(W),t("div",null,d(o.$t("order.deliver")),1)]),v.value?(_(),y(X,{key:0,order:v.value},null,8,["order"])):H("",!0),t("div",ie,[t("div",le,[de,t("span",pe,d(o.$t("refund.service")),1)]),t("div",{class:"flex items-center justify-between",onClick:e[0]||(e[0]=s=>r(L)(!0))},[t("div",ue,[a(i,{name:"circle",color:"rgba(217, 217, 217, 1)",size:"24px"}),t("span",me,d(o.$t("refund.refund choose")),1)]),a(i,{name:"arrow",color:"rgba(46, 32, 8, 1)"})])]),a(z,{show:r(f),"onUpdate:show":e[2]||(e[2]=s=>K(f)?f.value=s:null),round:"",position:"bottom",closeable:"",style:{height:"auto",maxHeight:"80%"}},{default:p(()=>[t("div",_e,d(o.$t("refund.reason")),1),a(F,{modelValue:r(n).checked,"onUpdate:modelValue":e[1]||(e[1]=s=>r(n).checked=s)},{default:p(()=>[a(A,null,{default:p(()=>[(_(!0),k(Q,null,Y(r(n).reasonList,s=>(_(),y(P,{key:s.id,title:s.showName,onClick:ge=>r(n).checked=s.id},{"right-icon":p(()=>[a(m,{name:s.id,"checked-color":"#FEA021"},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),t("div",fe,[a(j,{class:"my-[50px] inline-block btn-orange btn-shadow w-[180px] h-[40px] text-white",loading:r(V),onClick:C},{default:p(()=>[Z(d(o.$t("ecology.submitApplication")),1)]),_:1},8,["loading"])])]),_:1},8,["show"])])}}}),Pe=O(he,[["__scopeId","data-v-29189d82"]]);export{Pe as default};
