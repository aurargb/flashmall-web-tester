import{_ as v,a2 as I,w as _,l as w,E as k,F as a,G as c,H as s,X as n,O as S,a1 as A,Q as e,Y as C,P as q,a4 as j,Z as D,$ as T,T as l}from"./vendor-BlU_hoYl.js";import{_ as V}from"./MCOIN-BOqZVkND.js";import{a7 as $,a8 as B}from"./index-UgIL2Smv.js";const F="/static/images/add-Bj4XIqzr.svg",N="/static/images/theme1-u-B4ftxWpS.png",R="/static/images/theme2-u-DaKqH4sV.png",E="/static/images/theme3-u-D6Rgj3kV.png",g=t=>(D("data-v-6cfea335"),t=t(),T(),t),z={class:"goods-image"},G={key:0,class:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full text-sm text-white whitespace-nowrap bg-black/50"},O=g(()=>s("span",{class:"mr-0.5"},"·",-1)),P=g(()=>s("span",{class:"ml-0.5"},"·",-1)),H={class:"absolute top-0 left-0 w-full h-full"},M=["src"],X={class:"goods-info"},K={class:"goods-name text-b1 font-semibold text-base line-clamp-1"},Q={class:"tag-list mt-2 flex flex-wrap gap-1"},W={key:0,class:"tag-item text-[#FF8812] text-xxs font-normal"},Y={key:1,class:"tag-item text-[#FF8812] text-xxs font-normal"},Z={class:"goods-price-line mt-2 flex justify-between items-center"},J={class:"goods-price flex justify-start items-center"},L={class:"currency"},U=["src"],tt={class:"amount ml-1 text-b1 text-sm font-semibold"},st={class:"ml-1 text-b3 text-xs font-normal line-through"},et=g(()=>s("img",{src:F,class:"w-5 h-5",alt:""},null,-1)),ot=[et],at={props:{goods:{type:Object,default:()=>{}}},setup(t){const h=t,r=I(),{t:u}=_(),m=w(),f=$(),x={1:N,2:R,3:E},b={1:{position:"absolute",bottom:"14px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},2:{position:"absolute",bottom:"8px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},3:{position:"absolute",bottom:"7px",left:"7px",right:"0",textAlign:"left"}},p=()=>{m.push({path:"/goodsDetail",query:{id:h.goods.goodsId}})},y=async o=>{if(o.stock===0&&o.goodsTypes!=2){l(u("order.Insufficient stock"));return}l.loading({duration:0});const i={needlogin:"true",...r.query};m.replace({path:r.path,query:i});const d=await B(o.id);l.clear(),d.success&&(l(u("cart.addTips")),f.getCartCount())};return(o,i)=>{const d=k("van-image");return c(),a("div",{key:t.goods.id,class:"goods-card relative",onClick:p},[s("div",z,[t.goods.activityStock<=0?(c(),a("div",G,[O,A(" "+e(o.$t("goods.act Sold Out")),1),P])):n("",!0),S(d,{width:"100%",height:"100%",src:t.goods.goodsIcons&&t.goods.goodsIcons.split(",")[0]||o.getImage("images/activity/boutique/squre_empty.png"),fit:"cover"},null,8,["src"]),s("div",H,[t.goods.labelId?(c(),a("img",{key:0,src:x[t.goods.labelId],class:"goods-theme w-full h-full object-fill"},null,8,M)):n("",!0),s("span",{class:"goods-slogan absolute text-b6 test-sm",style:C(b[t.goods.labelId])},e(t.goods.slogan||`满${t.goods.fullAmount||0}减${t.goods.reduceAmount||0}`),5)])]),s("div",X,[s("p",K,e(t.goods.goodsName),1),s("div",Q,[t.goods.goodsDiscountRatio?(c(),a("div",W," 让利"+e(t.goods.goodsDiscountRatio)+"% ",1)):n("",!0),t.goods.fullAmount?(c(),a("div",Y," 满"+e(t.goods.fullAmount||0)+"-"+e(t.goods.reduceAmount||0),1)):n("",!0)]),s("div",Z,[s("div",J,[s("span",L,[s("img",{src:q(V),alt:"MC",class:"w-4 h-4"},null,8,U)]),s("span",tt,e(t.goods.activityPrice),1),s("span",st,e(t.goods.goodsPrice),1)]),s("div",{class:"add-cart",onClick:i[0]||(i[0]=j(ct=>y(t.goods),["stop"]))},ot)])])])}}},dt=v(at,[["__scopeId","data-v-6cfea335"]]);export{dt as G};
