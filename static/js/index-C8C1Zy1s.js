import{_ as Z,y as M,r as b,E as D,F as m,G as u,H as t,a2 as F,Q as s,I as z,J as R,P as o,a0 as L,O as p,N as I,Y as xt,Z as $t,l as X,a4 as wt,bf as yt,be as Dt,D as Bt,bc as J,bd as K,K as It,n as Lt,B as Mt}from"./vendor-Ba70TIw4.js";import{_ as W}from"./MAI-JFNXjgdS.js";import{_ as tt}from"./MCOIN-Bodfn-v1.js";import{N as O,h as st,b as et,x as Q,d as r,f as Ct,g as kt,q,s as E,I as Nt,B as H}from"./index-Bsb9uxb4.js";import{_ as At}from"./USDT-Dlu99aCg.js";import{B as St}from"./BackIcon-DkqwcD_b.js";import{b as Tt}from"./beiConstContract-BV9J705g.js";import{p as Pt}from"./piggyBank-DHjFTeuA.js";import{o as Ut}from"./OTCContract-Cx6BwdT_.js";import{q as Vt}from"./storeValue-DAgJ3jE1.js";const ot=""+new URL("../images/copy-MrxcJdwb.png",import.meta.url).href,at=""+new URL("../images/LP-DxuS8Bb-.png",import.meta.url).href,nt=""+new URL("../images/MUSD-DzKAPSpJ.png",import.meta.url).href,Ft=a=>O("GET","/fmUsers/list",a),Ot=a=>O("GET","/fmUsers/parent",a),qt=a=>O("GET",`store/getSales?address=${a}`,null),Et=a=>O("GET",`/fm/permissions/flag?resourceType=${a}`,null),zt=a=>(xt("data-v-6b202d3c"),a=a(),$t(),a),Rt={class:"py-3 bg-white rounded-xl"},Wt={class:"w-full text-center table-auto"},Yt={class:"my-8 text-sm font-normal opacity-80"},Gt={class:"my-[8px]"},jt=["onClick"],Jt=zt(()=>t("img",{src:ot,class:"inline-block w-3.5 h-3.5 align-middle"},null,-1)),Kt={key:0,class:"py-6 text-base text-center opacity-60"},Qt={key:1,class:"py-6 text-base text-center opacity-60"},Ht={class:"px-10 py-3"},Zt=M({props:{address:null},setup(a,{expose:g}){const x=a,c=b(1),A=b(10),h=b([]),_=b(0),w=b(!1),C=async()=>{w.value=!0,h.value=[];const f=await Ft({page:c.value,size:A.value,address:x.address});w.value=!1,f.success&&(_.value=f.total||0,h.value=f.data)};return g({getTableList:C,resetValue:()=>{c.value=1,_.value=0}}),(f,B)=>{const T=D("van-loading"),n=D("van-icon"),P=D("van-pagination");return u(),m("div",Rt,[t("table",Wt,[t("tr",Yt,[t("th",Gt,s(f.$t("home.team")),1),t("th",null,s(f.$t("home.level")),1),t("th",null,s(f.$t("integral.integral")),1),t("th",null,s(f.$t("home.teamPoints")),1)]),(u(!0),m(z,null,R(h.value,l=>(u(),m("tr",{key:l.id,class:"opacity-40"},[t("td",{onClick:k=>o(st)(l.address)},[L(s(o(et)(l.address))+" ",1),Jt],8,jt),t("td",null,"V"+s(l.memberLevel),1),t("td",null,s(o(Q)(l.contribute)),1),t("td",null,s(o(Q)(l.totalContribute)),1)]))),128))]),w.value?(u(),m("div",Kt,[p(T,{size:"18px"},{default:I(()=>[L(s(f.$t("common.loading"))+"...",1)]),_:1})])):_.value===0?(u(),m("div",Qt,s(f.$t("common.No data yet")),1)):F("",!0),t("div",Ht,[p(P,{onChange:C,modelValue:c.value,"onUpdate:modelValue":B[0]||(B[0]=l=>c.value=l),"total-items":_.value,"show-page-size":3,"force-ellipses":""},{"prev-text":I(()=>[p(n,{name:"arrow-left"})]),"next-text":I(()=>[p(n,{name:"arrow"})]),page:I(({text:l})=>[L(s(l),1)]),_:1},8,["modelValue","total-items"])])])}}}),Xt=Z(Zt,[["__scopeId","data-v-6b202d3c"]]),ts=""+new URL("../images/BNB-DAYjjexP.png",import.meta.url).href,ss=""+new URL("../images/WMAI-BCBaCUmb.png",import.meta.url).href,es={class:"p-1.5 px-4 bg-white rounded-xl"},os={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},as=t("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:tt},null,-1),ns=t("span",null,"MCOIN",-1),ls={class:"ml-auto"},is={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},cs=t("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:nt},null,-1),ds=t("span",null,"MUSD",-1),rs={class:"ml-auto"},us={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},ms=t("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:W},null,-1),_s=t("span",null,"MAI",-1),ps={class:"ml-auto"},hs={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},fs=t("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:At},null,-1),vs=t("span",null,"USDT",-1),bs={class:"ml-auto"},gs={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},xs=t("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:ts},null,-1),$s=t("span",null,"BNB",-1),ws={class:"ml-auto"},ys={class:"flex py-2.5 items-center text-sm font-bold border-b-[0.5px] border-solid border-[#D9D9D9]"},Ds=t("img",{class:"w-auto h-[22px] mr-1.5 rounded-full",src:ss},null,-1),Bs=t("span",null,"WMAI",-1),Is={class:"ml-auto"},Ls={class:"flex pt-1.5 items-center text-sm font-bold"},Ms=t("img",{class:"w-[40px] h-auto mr-1.5 rounded-full",src:at},null,-1),Cs=t("span",null,"WMAI-MCOIN LP",-1),ks={class:"ml-auto"},Ns=M({props:{data:null},setup(a){return(g,x)=>(u(),m("div",es,[t("div",os,[as,ns,t("span",ls,s(o(r)(a.data.MCOIN)),1)]),t("div",is,[cs,ds,t("span",rs,s(o(r)(a.data.MUSD)),1)]),t("div",us,[ms,_s,t("span",ps,s(o(r)(a.data.MAI)),1)]),t("div",hs,[fs,vs,t("span",bs,s(o(r)(a.data.USDT)),1)]),t("div",gs,[xs,$s,t("span",ws,s(o(r)(a.data.BNB)),1)]),t("div",ys,[Ds,Bs,t("span",Is,s(o(r)(a.data.WMAI)),1)]),t("div",Ls,[Ms,Cs,t("span",ks,s(o(r)(a.data.LP)),1)])]))}}),As={class:"px-4 py-5 bg-white rounded-xl"},Ss={class:"mb-4 text-center"},Ts={class:"bg-[#F3F3F3] rounded-xl"},Ps={class:"flex mt-5 mb-1.5 gap-4"},Us={class:"text-base"},Vs={class:"text-[#2E2008] text-base flex items-center gap-1.5"},Fs=M({props:{loading:{type:Boolean},hasPermission:{type:Boolean}},emits:["search","reset"],setup(a,{expose:g,emit:x}){const c=b("");return g({reset:()=>{c.value=""}}),(h,_)=>{const w=D("van-field"),C=D("van-button"),S=D("van-icon"),f=D("VanButton");return u(),m("div",As,[t("div",Ss,s(h.$t("service.Please enter the asset address to be queried")),1),t("div",Ts,[p(w,{placeholder:h.$t("piggy.please enter address"),modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=B=>c.value=B),rows:"2",type:"textarea",spellcheck:!1},null,8,["placeholder","modelValue"])]),t("div",Ps,[p(C,{disabled:a.loading||!c.value,class:"plain-btn w-1/2 h-[48px] text-[#FED73A] font-semibold rounded-3xl",onClick:_[1]||(_[1]=()=>{x("reset")})},{default:I(()=>[t("span",Us,s(h.$t("common.reset")),1)]),_:1},8,["disabled"]),p(f,{loading:a.loading,onClick:_[2]||(_[2]=B=>x("search",c.value)),disabled:!(c.value&&c.value.length>0)||!a.hasPermission,class:"btn w-1/2 font-semibold bg-[#FED73A] h-[48px] rounded-3xl text-base text-center leading-[48px]"},{default:I(()=>[t("div",Vs,[p(S,{name:"search",size:"18",class:"font-bold"}),L(" "+s(a.hasPermission?h.$t("service.Query"):h.$t("assets.No permission")),1)])]),_:1},8,["loading","disabled"])])])}}}),Os=Z(Fs,[["__scopeId","data-v-6566d95a"]]),qs={class:"flex flex-col gap-4 px-4 py-4 bg-white rounded-xl"},Es={class:"flex items-start pb-4 border-b-[0.5px] border-solid border-[#D9D9D9]"},zs={class:"text-default/80"},Rs={class:"flex flex-col gap-1 ml-auto"},Ws=["onClick"],Ys={class:"ml-auto max-w-[100px] truncate"},Gs={class:"flex items-center ml-2 text-xs text-primary"},js={class:"mr-1 underline underline-offset-2"},Js=t("span",null," > ",-1),Ks={class:"flex items-start"},Qs={class:"text-default/80 mr-[60px] whitespace-nowrap"},Hs={class:"flex flex-col gap-2.5 ml-auto w-full text-sm"},Zs={class:"w-1/2 ml-auto table-auto"},Xs={class:"w-full"},te={class:"text-right"},se={class:"mr-4 text-default/60 whitespace-nowrap"},ee={class:"font-bold text-right"},oe={class:"w-full"},ae={class:"font-normal text-right"},ne={class:"mr-4 text-default/60 whitespace-nowrap"},le={class:"font-bold text-right"},ie={class:"w-full"},ce={class:"text-right"},de={class:"mr-4 whitespace-nowrap text-default/60"},re={class:"font-bold text-right"},ue={class:"flex items-start pt-4 border-t-[0.5px] border-solid border-[#D9D9D9]"},me={class:"text-default/80"},_e={class:"ml-auto"},pe=M({props:{data:{default:()=>{}}},setup(a){const g=X(),x=c=>{g.push(c)};return(c,A)=>{var h;return u(),m("div",qs,[t("div",Es,[t("span",zs,s(c.$t("shop.shopName")),1),t("div",Rs,[(u(!0),m(z,null,R(((h=a.data)==null?void 0:h.shops)||[],_=>(u(),m("div",{class:"flex items-center font-bold",key:_.id,onClick:wt(w=>x(`/category?shopId=${_.id}`),["stop"])},[t("span",Ys,s(_.storeName),1),t("div",Gs,[t("div",js,s(c.$t("collect.intoShop")),1),Js])],8,Ws))),128))])]),t("div",Ks,[t("div",Qs,s(c.$t("assets.Sales in the past 30 days")),1),t("div",Hs,[t("table",Zs,[t("tr",Xs,[t("td",te,[t("span",se," Mcoin "+s(c.$t("assets.Including lightning treasure")),1)]),t("td",ee,s(o(r)(a.data.salesAmountMc)),1)]),t("tr",oe,[t("td",ae,[t("div",ne,s(c.$t("assets.Balance")),1)]),t("td",le,s(o(r)(a.data.salesAmountKt)),1)]),t("tr",ie,[t("td",ce,[t("div",de,s(c.$t("piggy.stored value card")),1)]),t("td",re,s(o(r)(a.data.salesAmountCzk)),1)])])])]),t("div",ue,[t("div",me,s(c.$t("assets.Order volume in the past 30 days")),1),t("div",_e,s(a.data.salesOrderCount)+" "+s(c.$t("assets.order")),1)])])}}}),he={class:"h-[44px] bg-white sticky top-0 w-full z-50 flex items-center gap-0.5 px-3"},fe=M({setup(a){return(g,x)=>(u(),m("div",he,[p(St),L(" "+s(g.$t("service.Asset query")),1)]))}}),ve={class:"bg-[#F2F0EF] font-normal"},be={class:"p-4"},ge={class:"pt-12 text-base text-center"},xe={key:0},$e={class:"mt-6 mb-2 text-lg font-bold"},we={class:"mt-6 mb-2 text-lg font-bold"},ye={class:"flex items-center justify-between p-4 text-sm bg-white text-default/80 rounded-xl"},De=t("img",{src:ot,class:"inline-block w-3.5 h-3.5 align-middle"},null,-1),Be={class:"mt-6 mb-2 text-lg font-bold"},Ie={class:"mt-6 mb-2 text-lg font-bold"},Le={class:"mt-6 mb-2 text-lg font-bold"},Me={class:"p-4 text-sm bg-white rounded-xl"},Ce={class:"flex items-center"},ke={class:"text-default/80"},Ne={key:1,class:"ml-auto"},Ae={class:"mt-6 mb-2 text-lg font-bold"},Se={class:"p-4 text-sm bg-white rounded-xl"},Te={class:"flex items-center"},Pe={class:"text-default/80"},Ue={class:"ml-auto"},Ve={class:"mt-6 mb-2 text-lg font-bold"},Fe={class:"p-4 text-sm bg-white rounded-xl"},Oe={class:"flex items-center"},qe={class:"text-default/80"},Ee={class:"ml-auto"},ze=t("img",{src:W,class:"w-auto h-5 ml-2.5"},null,-1),Re={class:"mt-6 mb-2 text-lg font-bold"},We={class:"px-4 py-2 text-sm bg-white rounded-xl"},Ye={class:"flex items-center"},Ge={class:"text-default/80"},je={class:"ml-auto"},Je=t("img",{src:at,class:"w-auto h-10 ml-2.5"},null,-1),Ke={class:"mt-6 mb-2 text-lg font-bold"},Qe={class:"p-4 text-sm bg-white rounded-xl"},He={class:"flex items-center"},Ze={class:"text-default/80"},Xe={class:"ml-auto"},to=t("img",{src:tt,class:"w-auto h-5 ml-2.5"},null,-1),so={class:"mt-6 mb-2 text-lg font-bold"},eo={class:"px-4 text-sm bg-white rounded-xl"},oo={class:"flex py-4 items-center border-b-[0.5px] border-solid border-[#D9D9D9]"},ao=t("span",{class:"text-default/80"},"OTC_MUSD",-1),no={class:"ml-auto"},lo=t("img",{src:nt,class:"w-auto h-5 ml-2.5"},null,-1),io={class:"flex items-center py-4"},co=t("span",{class:"text-default/80"},"OTC_MAI",-1),ro={class:"ml-auto"},uo=t("img",{src:W,class:"w-auto h-5 ml-2.5"},null,-1),mo={key:1,class:"mt-6 mb-2 text-lg font-bold"},_o={key:2,class:"px-4 text-sm bg-white rounded-xl"},po=["index"],ho={class:"text-default/80"},fo={class:"ml-auto"},vo=["src"],bo={class:"mt-6 mb-2 text-lg font-bold"},go={class:"p-4 text-sm bg-white rounded-xl"},xo={class:"flex items-center"},$o={class:"text-default/80"},wo={class:"ml-auto"},yo=M({name:"serviceAsset"});function Do(a){const g=X(),{pointBalances:x,contributes:c}=Ct(),{credits:A,userTotalLp:h,pendingLp:_,queryId:w}=Tt(),{userIds:C,pending:S}=Pt(),{musd:f,mai:B,balances:T}=Ut(),n=yt({MCOIN:"",MUSD:"",MAI:"",USDT:"",BNB:"",WMAI:"",LP:"",integralNum:0,pointBalance:0,allMai:0,allLp:0,allYue:0,otcMai:0,otcMusd:0,cardList:[],allFmcp:0,parentInfo:{}}),P=e=>{g.push(e)},l=b(""),k=b(!1),U=b(null),lt=async e=>{var i,d;l.value=e,k.value=!0,N.value=null,(i=U.value)==null||i.resetValue(),await Lt(),await Promise.all([(d=U.value)==null?void 0:d.getTableList(),ct(),dt(),rt(),mt(),_t(),pt(),ht(),ft(),vt(),bt(),gt()]),k.value=!1},Y=b(),it=()=>{var e,i;l.value="",N.value=null,(e=Y.value)==null||e.reset(),(i=U.value)==null||i.resetValue()},ct=async()=>{const{success:e,data:i}=await Ot({address:l.value});e&&(n.parentInfo=i||{})},N=b(null),dt=async()=>{const{success:e,data:i}=await qt(l.value);e&&(N.value=i||null)},rt=async()=>{const e=["MCOIN","MUSD","MAI","USDT","BNB","WMAI","LP"];for(let i=0;i<e.length;i++){const d=e[i];if(!q[d])return;const{balanceOf:$}=E(q[d]),V=d==="BNB"?await Nt(l.value):await $(l.value);n[d]=V}},[ut,G]=Dt(!1),mt=async()=>{G(!0);const e=await c(l.value);e.success&&(n.integralNum=+e.result||0,G(!1))},_t=async()=>{const e=await x(l.value);n.pointBalance=+e||0},pt=async()=>{const e=await A(l.value),i=+H(e==null?void 0:e.maiTotal);n.allMai=i},ht=async()=>{const e=+await w(l.value);if(!e)return;const i=await _(e),d=await h(e);n.allLp=+Mt(i).plus(d).toString()},ft=async()=>{const e=+await C(l.value);if(!e)return;const i=await S(e.toString());let d=0;i.records.forEach($=>{d+=+H($.amount)||0}),n.allYue=+d.toFixed(18)},vt=async()=>{n.otcMusd=+await T(await f(),l.value),n.otcMai=+await T(await B(),l.value)},bt=async()=>{let e=[];e=(await Vt({userAddress:l.value})).data.filter(d=>d.storedCardId>0&&d.shopId)||[];for(let d=0;d<e.length;d++){const $=e[d];e[d].balance=$.contract&&await E($.contract).balanceOf(l.value)}n.cardList=e||[]},gt=async()=>{n.allFmcp=+await E(q.FMCP).balanceOf(l.value)},j=b(!1);return Bt(async()=>{const{success:e,data:i}=await Et(1);e&&(j.value=i||!1)}),(e,i)=>{var $,V;const d=D("van-loading");return u(),m("div",ve,[p(fe),t("div",be,[p(Os,{ref:(v,y)=>{y.searchBox=v,Y.value=v},onSearch:lt,onReset:it,hasPermission:j.value,loading:k.value},null,8,["hasPermission","loading"]),J(t("div",ge,[p(d,{size:"18px"},{default:I(()=>[L(s(e.$t("common.loading"))+"...",1)]),_:1})],512),[[K,k.value]]),J(t("div",null,[N.value&&N.value.shops?(u(),m("div",xe,[t("div",$e,s(e.$t("assets.Store information")),1),p(pe,{data:N.value},null,8,["data"])])):F("",!0),t("div",we,s(e.$t("service.Superior recommender")),1),t("div",ye,[t("span",null,s(e.$t("service.Recommender information")),1),t("span",null,"V"+s(($=o(n).parentInfo)==null?void 0:$.memberLevel),1),t("span",{onClick:i[0]||(i[0]=v=>{var y;return o(st)((y=o(n).parentInfo)==null?void 0:y.address)})},[L(s(o(et)((V=o(n).parentInfo)==null?void 0:V.address))+" ",1),De])]),t("div",Be,s(e.$t("service.Net")),1),p(Xt,{ref:(v,y)=>{y.tableRef=v,U.value=v},address:l.value},null,8,["address"]),t("div",Ie,s(e.$t("common.wallet")),1),p(Ns,{data:o(n)},null,8,["data"]),t("div",Le,s(e.$t("common.credit")),1),t("div",Me,[t("div",Ce,[t("span",ke,s(e.$t("ranking.Number of points")),1),o(ut)?(u(),It(d,{key:0,size:"14"})):(u(),m("span",Ne,s(o(r)(o(n).integralNum)),1))]),t("div",{onClick:i[1]||(i[1]=v=>P("/integralDetail?address="+l.value)),class:"mt-2 text-xs text-center text-blue-002"},s(e.$t("service.View points change details"))+" >> ",1)]),t("div",Ae,s(e.$t("assets.canWithdraw")),1),t("div",Se,[t("div",Te,[t("span",Pe,s(e.$t("assets.canWithdraw")),1),t("span",Ue,s(o(r)(o(n).pointBalance)),1)]),t("div",{onClick:i[2]||(i[2]=v=>P("/balanceDetail?address="+l.value)),class:"mt-2 text-xs text-center text-blue-002"},s(e.$t("service.View the details of changes in available balance"))+" >> ",1)]),t("div",Ve,s(e.$t("service.In the MAI")),1),t("div",Fe,[t("div",Oe,[t("span",qe,s(e.$t("service.Number of MAI in stock")),1),t("span",Ee,s(o(r)(o(n).allMai)),1),ze])]),t("div",Re,s(e.$t("service.Deposited LP")),1),t("div",We,[t("div",Ye,[t("span",Ge,s(e.$t("service.Number of LPs in existence")),1),t("span",je,s(o(r)(o(n).allLp)),1),Je])]),t("div",Ke,s(e.$t("common.piggy")),1),t("div",Qe,[t("div",He,[t("span",Ze,s(e.$t("service.Lightning Treasure Balance")),1),t("span",Xe,s(o(r)(o(n).allYue)),1),to])]),t("div",so,s(e.$t("otc.OTCAccount")),1),t("div",eo,[t("div",oo,[ao,t("span",no,s(o(r)(o(n).otcMusd)),1),lo]),t("div",io,[co,t("span",ro,s(o(r)(o(n).otcMai)),1),uo])]),o(n).cardList&&o(n).cardList.length>0?(u(),m("div",mo,s(e.$t("piggy.stored value card")),1)):F("",!0),o(n).cardList&&o(n).cardList.length>0?(u(),m("div",_o,[(u(!0),m(z,null,R(o(n).cardList,(v,y)=>(u(),m("div",{index:y,class:"flex py-4 items-center border-b-[0.5px] border-solid border-[#D9D9D9]"},[t("span",ho,s(v.symbol),1),t("span",fo,s(o(r)(v.balance)),1),t("img",{src:v.symbolLogo||o(kt)("images/piggyBank/default-token.png"),class:"w-auto h-5 ml-2.5 rounded-full"},null,8,vo)],8,po))),256))])):F("",!0),t("div",bo,s(e.$t("voucher.voucher")),1),t("div",go,[t("div",xo,[t("span",$o,s(e.$t("service.Voucher balance")),1),t("span",wo,s(o(r)(o(n).allFmcp)),1)])])],512),[[K,!k.value&&l.value]])])])}}const Po=M({...yo,setup:Do});export{Po as default};
