import{_ as W,y as j,be as v,U as K,r as g,bS as M,x as O,D as q,a9 as G,E as w,K as _,G as c,N as I,H as e,X as y,bc as H,Y as i,P as t,F as J,bd as X,a1 as b,a4 as Y,a0 as Z,Z as Q,$ as ee}from"./vendor-BlU_hoYl.js";import{b$ as k,c0 as V}from"./index-Clz0Qna-.js";const E=""+new URL("../images/claim-BxIoJuaK.webp",import.meta.url).href,r=s=>(Q("data-v-35eeb31a"),s=s(),ee(),s),te={key:0,class:"success-text"},oe=r(()=>e("div",{class:"text-b6 text-xl mb-3"},"投票成功",-1)),se=r(()=>e("div",{class:"text-2xl text-b6"},[b(" 恭喜获得"),e("span",{class:"text-[#FEA527] font-bold"},"1张"),b("抵用券 ")],-1)),ae=[oe,se],ne=["src"],le={class:"center-card text-b1 font-semibold"},ce=r(()=>e("div",{class:"text-center text-xs text-[#FE7E66] font-BebasNeue font-normal"}," 抵用券 ",-1)),ie=r(()=>e("div",{class:"container relative"},[e("div",{class:"center-text text-[#F15965] h-[52px] pt-1 flex items-center justify-center gap-x-1",id:"original"},[e("span",{class:"text-[40px] font-BebasNeue leading-[52px]"},"1")])],-1)),re=[ce,ie],de=b(" 确定 "),ue=j({props:{teleport:null},setup(s,{expose:D}){const{teleport:pe}=s,[d,u]=v(!1),{height:n}=K(),F=g(null),B=g(null),{top:C,height:R}=M(B),p=g(null),[$,S]=v(!1),[m,f]=v(!1),N=O(()=>n.value>811?1:811/n.value),U=()=>`${E}?t=${Date.now()}`,L=async()=>{if(f(!0),await V(500),document.getElementById("cloned-animation"))return;const a=document.getElementById("original").cloneNode(!0);a.id="cloned-animation",a.classList.add("animated-div"),document.querySelector(".container").appendChild(a)},l=()=>{u(!1),setTimeout(()=>{f(!1)},150)},P=async()=>{u(!0),S(!0),p.value=U(),await k(p.value),S(!1),await V(1300),L()};return q(()=>{k(E)}),G(()=>{u(!1),f(!1)}),D({handleShowReward:P}),(T,h)=>{const a=w("VanLoading"),A=w("VanButton"),z=w("VanPopup");return c(),_(z,{show:t(d),"onUpdate:show":h[0]||(h[0]=o=>Z(d)?d.value=o:null),teleport:s.teleport,onClickOverlay:Y(l,["stop"]),onClose:l,class:"font-Puhui w-full max-w-[375px] bg-transparent","overlay-style":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},{default:I(()=>[e("div",{class:"w-full overflow-hidden relative -mt-[30px]",style:i({height:`${t(n)}px`}),onClick:l,ref:(o,x)=>{x.wrapperRef=o,F.value=o}},[e("div",{class:"w-full text-center absolute",style:i({top:`${t(C)-110}px`})},[t(m)?(c(),J("div",te,ae)):y("",!0)],4),e("div",{class:"center-card opacity-0",style:i({height:` ${t(n)*.26*t(N)}px`}),ref:(o,x)=>{x.imgWrapper=o,B.value=o}},null,4),t($)?(c(),_(a,{key:0,vertical:"",type:"spinner",color:"#FEA527",class:"center-card"})):y("",!0),e("img",{src:p.value,class:"w-full h-full object-cover relative z-[1]"},null,8,ne),H(e("div",le,re,512),[[X,t(m)]]),t(m)?(c(),_(A,{key:1,class:"success-text confirm-btn !font-semibold",onClick:l,style:i({top:`${t(C)+t(R)+45}px`})},{default:I(()=>[de]),_:1},8,["style"])):y("",!0)],4)]),_:1},8,["show","teleport","onClickOverlay","overlay-style"])}}}),he=W(ue,[["__scopeId","data-v-35eeb31a"]]);export{he as V};
