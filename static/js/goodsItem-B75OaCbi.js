import{_ as y,a1 as v,w,l as I,E as _,F as a,G as n,H as e,a2 as l,O as k,a0 as q,Q as s,X as A,P as R,a4 as S,Y as j,Z as C,T as c}from"./vendor-Ba70TIw4.js";import{_ as D}from"./MCOIN-Bodfn-v1.js";import{q as T}from"./cart-0_V967CA.js";const V=""+new URL("../images/add-Bj4XIqzr.svg",import.meta.url).href,B=""+new URL("../images/theme1-u-B4ftxWpS.png",import.meta.url).href,F=""+new URL("../images/theme2-u-DaKqH4sV.png",import.meta.url).href,N=""+new URL("../images/theme3-u-D6Rgj3kV.png",import.meta.url).href,r=t=>(j("data-v-708790e5"),t=t(),C(),t),$={class:"goods-image"},E={key:0,class:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full text-sm text-white whitespace-nowrap bg-black/50"},L=r(()=>e("span",{class:"mr-0.5"},"·",-1)),U=r(()=>e("span",{class:"ml-0.5"},"·",-1)),z={class:"absolute top-0 left-0 w-full h-full"},G=["src"],O={class:"goods-info"},P={class:"goods-name text-b1 font-semibold text-base line-clamp-1"},H={class:"tag-list mt-2 flex flex-wrap gap-1"},M={key:0,class:"tag-item text-[#FF8812] text-xxs font-normal"},X={key:1,class:"tag-item text-[#FF8812] text-xxs font-normal"},K={class:"goods-price-line mt-2 flex justify-between items-center"},Q={class:"goods-price flex justify-start items-center"},W={class:"currency"},Y=["src"],Z={class:"amount ml-1 text-b1 text-sm font-semibold"},J={class:"ml-1 text-b3 text-xs font-normal line-through"},tt=r(()=>e("img",{src:V,class:"w-5 h-5",alt:""},null,-1)),et=[tt],st={props:{goods:{type:Object,default:()=>{}}},setup(t){const h=t,m=v(),{t:g}=w(),u=I(),f={1:B,2:F,3:N},x={1:{position:"absolute",bottom:"14px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},2:{position:"absolute",bottom:"8px",left:"0",right:"0",margin:" 0 auto",textAlign:"center"},3:{position:"absolute",bottom:"7px",left:"7px",right:"0",textAlign:"left"}},p=()=>{u.push({path:"/goodsDetail",query:{id:h.goods.goodsId}})},b=async o=>{if(o.stock===0&&o.goodsTypes!=2){c(g("order.Insufficient stock"));return}c.loading({duration:0});const i={needlogin:"true",...m.query};u.replace({path:m.path,query:i});const d=await T(o.id);c.clear(),d.success&&c(g("cart.addTips"))};return(o,i)=>{const d=_("van-image");return n(),a("div",{key:t.goods.id,class:"goods-card relative",onClick:p},[e("div",$,[t.goods.activityStock<=0?(n(),a("div",E,[L,q(" "+s(o.$t("goods.act Sold Out")),1),U])):l("",!0),k(d,{width:"100%",height:"100%",src:t.goods.goodsIcons&&t.goods.goodsIcons.split(",")[0]||o.getImage("images/activity/boutique/squre_empty.png"),fit:"cover"},null,8,["src"]),e("div",z,[t.goods.labelId?(n(),a("img",{key:0,src:f[t.goods.labelId],class:"goods-theme w-full h-full object-fill"},null,8,G)):l("",!0),e("span",{class:"goods-slogan absolute text-b6 test-sm",style:A(x[t.goods.labelId])},s(t.goods.slogan||`满${t.goods.fullAmount||0}减${t.goods.reduceAmount||0}`),5)])]),e("div",O,[e("p",P,s(t.goods.goodsName),1),e("div",H,[t.goods.goodsDiscountRatio?(n(),a("div",M," 让利"+s(t.goods.goodsDiscountRatio)+"% ",1)):l("",!0),t.goods.fullAmount?(n(),a("div",X," 满"+s(t.goods.fullAmount||0)+"-"+s(t.goods.reduceAmount||0),1)):l("",!0)]),e("div",K,[e("div",Q,[e("span",W,[e("img",{src:R(D),alt:"MC",class:"w-4 h-4"},null,8,Y)]),e("span",Z,s(t.goods.activityPrice),1),e("span",J,s(t.goods.goodsPrice),1)]),e("div",{class:"add-cart",onClick:i[0]||(i[0]=S(ot=>b(t.goods),["stop"]))},et)])])])}}},lt=y(st,[["__scopeId","data-v-708790e5"]]);export{lt as G};
