import{_ as O,y as q,w as D,r as E,bf as b,be as k,D as H,F as w,G as _,H as t,K as y,a2 as K,O as a,Q as d,P as c,E as r,N as p,$ as T,Y as U,Z as J,a1 as M,l as G,I as Q,J as Y,a0 as Z}from"./vendor-Ba70TIw4.js";import{B as W}from"./BackIcon-DkqwcD_b.js";import{_ as X}from"./BuyerDeliveredItem-Cm0MMBB7.js";import{r as ee,bk as oe}from"./index-DGR86ePT.js";import{r as te}from"./refund-DRt_sEsn.js";import{l as se}from"./luckyShopContract-BsCV9hvy.js";import"./MCOIN-BOqZVkND.js";import"./USDT-CNsbs3BR.js";import"./useOrderStatus-eiwKm5Dv.js";import"./order-H59PKTFP.js";import"./flashSale-DDyqLyYN.js";import"./useShipTemplate-CJrw2UwP.js";import"./enums-DlE-aiss.js";import"./useRefund-Dpqhghzq.js";import"./default-avatar-DfqlD94j.js";const ae="/static/images/chongdian-icon-DMO16_K9.png",ne=u=>(U("data-v-29189d82"),u=u(),J(),u),ce={class:"px-3 bg-[#f2f0ef]"},re={class:"gap-2 mt-2 flex-start"},ie={class:"px-3 py-4 mt-3 bg-white rounded-xl"},le={class:"flex items-center mb-5"},de=ne(()=>t("img",{src:ae,class:"w-[18px] h-[18px]"},null,-1)),pe={class:"ml-1 font-semibold"},ue={class:"flex items-center"},me={class:"ml-1"},_e={class:"mt-[18px] mb-[20px] font-semibold text-base text-center"},fe={class:"m-auto text-center"},he=q({setup(u){const{loadingToggle:l}=ee(),{luckyProtestSent:x}=se(),g=M(),N=G(),{locale:R}=D(),v=E(null),S=b({page:1,size:999,type:2}),n=b({reasonList:[],checked:null}),[f,L]=k(!1),[V,h]=k(!1),C=async()=>{h(!0),l(!0);const o={id:g.query.id,fmRefundReasonId:n.checked};if(!(await oe(o)).success){h(!1),l(!1);return}const i=await x(+g.query.goodId);h(!1),l(!1),i.success&&N.push("/buyerOrderList?active=0&type=2")},B=async()=>{const{success:o,data:e}=await te(S);if(o){const i=I(R.value);e.length>0&&(n.checked=e[0].id),n.reasonList=e.map(m=>({...m,showName:m[i]}))}},I=o=>{let e="cnFtName";switch(o){case"zh-CN":e="jtName";break;case"zh-HK":e="cnFtName";break;case"en-US":e="enName";break;case"ja-JP":e="japanName";break}return e},$=async()=>{l(!0),B(),l(!1)};return H(async()=>{await $()}),(o,e)=>{const i=r("van-icon"),m=r("van-radio"),P=r("van-cell"),A=r("van-cell-group"),F=r("van-radio-group"),j=r("VanButton"),z=r("VanPopup");return _(),w("div",ce,[t("div",re,[a(W),t("div",null,d(o.$t("order.deliver")),1)]),v.value?(_(),y(X,{key:0,order:v.value},null,8,["order"])):K("",!0),t("div",ie,[t("div",le,[de,t("span",pe,d(o.$t("refund.service")),1)]),t("div",{class:"flex items-center justify-between",onClick:e[0]||(e[0]=s=>c(L)(!0))},[t("div",ue,[a(i,{name:"circle",color:"rgba(217, 217, 217, 1)",size:"24px"}),t("span",me,d(o.$t("refund.refund choose")),1)]),a(i,{name:"arrow",color:"rgba(46, 32, 8, 1)"})])]),a(z,{show:c(f),"onUpdate:show":e[2]||(e[2]=s=>T(f)?f.value=s:null),round:"",position:"bottom",closeable:"",style:{height:"auto",maxHeight:"80%"}},{default:p(()=>[t("div",_e,d(o.$t("refund.reason")),1),a(F,{modelValue:c(n).checked,"onUpdate:modelValue":e[1]||(e[1]=s=>c(n).checked=s)},{default:p(()=>[a(A,null,{default:p(()=>[(_(!0),w(Q,null,Y(c(n).reasonList,s=>(_(),y(P,{key:s.id,title:s.showName,onClick:ge=>c(n).checked=s.id},{"right-icon":p(()=>[a(m,{name:s.id,"checked-color":"#FEA021"},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),t("div",fe,[a(j,{class:"my-[50px] inline-block btn-orange btn-shadow w-[180px] h-[40px] text-white",loading:c(V),onClick:C},{default:p(()=>[Z(d(o.$t("ecology.submitApplication")),1)]),_:1},8,["loading"])])]),_:1},8,["show"])])}}}),Pe=O(he,[["__scopeId","data-v-29189d82"]]);export{Pe as default};
