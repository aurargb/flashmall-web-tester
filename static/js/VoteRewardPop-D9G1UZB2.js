import{_ as z,y as j,be as v,U as K,r as g,bT as M,x as O,D as q,a9 as G,E as w,K as _,G as c,N as S,H as e,a2 as b,bc as H,X as i,P as t,F as J,bd as X,a0 as y,a4 as Y,$ as Z,Y as Q,Z as ee}from"./vendor-Ba70TIw4.js";import{bV as V,bW as k}from"./index-Bsb9uxb4.js";const E=""+new URL("../images/claim-BxIoJuaK.webp",import.meta.url).href,r=s=>(Q("data-v-35eeb31a"),s=s(),ee(),s),te={key:0,class:"success-text"},oe=r(()=>e("div",{class:"text-b6 text-xl mb-3"},"投票成功",-1)),se=r(()=>e("div",{class:"text-2xl text-b6"},[y(" 恭喜获得"),e("span",{class:"text-[#FEA527] font-bold"},"1张"),y("抵用券 ")],-1)),ae=[oe,se],ne=["src"],le={class:"center-card text-b1 font-semibold"},ce=r(()=>e("div",{class:"text-center text-xs text-[#FE7E66] font-BebasNeue font-normal"}," 抵用券 ",-1)),ie=r(()=>e("div",{class:"container relative"},[e("div",{class:"center-text text-[#F15965] h-[52px] pt-1 flex items-center justify-center gap-x-1",id:"original"},[e("span",{class:"text-[40px] font-BebasNeue leading-[52px]"},"1")])],-1)),re=[ce,ie],de=y(" 确定 "),ue=j({props:{teleport:null},setup(s,{expose:D}){const{teleport:pe}=s,[d,u]=v(!1),{height:n}=K(),F=g(null),B=g(null),{top:C,height:R}=M(B),p=g(null),[N,I]=v(!1),[m,f]=v(!1),U=O(()=>n.value>811?1:811/n.value),$=()=>`${E}?t=${Date.now()}`,L=async()=>{if(f(!0),await k(500),document.getElementById("cloned-animation"))return;const a=document.getElementById("original").cloneNode(!0);a.id="cloned-animation",a.classList.add("animated-div"),document.querySelector(".container").appendChild(a)},l=()=>{u(!1),setTimeout(()=>{f(!1)},150)},T=async()=>{u(!0),I(!0),p.value=$(),await V(p.value),I(!1),await k(1300),L()};return q(()=>{V(E)}),G(()=>{u(!1),f(!1)}),D({handleShowReward:T}),(P,h)=>{const a=w("VanLoading"),A=w("VanButton"),W=w("VanPopup");return c(),_(W,{show:t(d),"onUpdate:show":h[0]||(h[0]=o=>Z(d)?d.value=o:null),teleport:s.teleport,onClickOverlay:Y(l,["stop"]),onClose:l,class:"font-Puhui w-full max-w-[375px] bg-transparent","overlay-style":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},{default:S(()=>[e("div",{class:"w-full overflow-hidden relative -mt-[30px]",style:i({height:`${t(n)}px`}),onClick:l,ref:(o,x)=>{x.wrapperRef=o,F.value=o}},[e("div",{class:"w-full text-center absolute",style:i({top:`${t(C)-110}px`})},[t(m)?(c(),J("div",te,ae)):b("",!0)],4),e("div",{class:"center-card opacity-0",style:i({height:` ${t(n)*.26*t(U)}px`}),ref:(o,x)=>{x.imgWrapper=o,B.value=o}},null,4),t(N)?(c(),_(a,{key:0,vertical:"",type:"spinner",color:"#FEA527",class:"center-card"})):b("",!0),e("img",{src:p.value,class:"w-full h-full object-cover relative z-[1]"},null,8,ne),H(e("div",le,re,512),[[X,t(m)]]),t(m)?(c(),_(A,{key:1,class:"success-text confirm-btn !font-semibold",onClick:l,style:i({top:`${t(C)+t(R)+45}px`})},{default:S(()=>[de]),_:1},8,["style"])):b("",!0)],4)]),_:1},8,["show","teleport","onClickOverlay","overlay-style"])}}}),he=z(ue,[["__scopeId","data-v-35eeb31a"]]);export{he as V};
