import{y as k,E as A,F as o,G as s,H as l,a2 as c,Q as i,I as F,J as U,bc as H,K as b,bd as q,_ as N,bA as K,r as T,U as J,x,O as B,N as O,P as a,X as Q,bB as W,bC as Z,bs as X,bD as E,bE as V,R as P,w as Y,B as f,D as M}from"./vendor-Ba70TIw4.js";import{g as ee,f as j,d as v}from"./index-DiRx6UeW.js";import{_ as te}from"./BoutiqueLable-RObK-asU.js";import{P as I}from"./flashSale-DDyqLyYN.js";import{S as G}from"./shop-CeqcS6K2.js";import{_ as se}from"./GoodsPrice-DfhrvFCM.js";import{R as oe}from"./RatioBox-hb9qVZol.js";import{D as L}from"./goods-BVwS8oFG.js";import{F as C}from"./enums-DlE-aiss.js";const ae={class:"px-2.5 bg-white rounded-xl"},ie={class:"py-2.5 text-sm font-semibold text-center"},ne={key:0,class:"flex flex-col gap-2.5"},le={key:1,class:"py-2 break-all"},dt=k({props:{text:null,imgs:null},setup(e){return(t,d)=>{const u=A("VanImage");return s(),o("div",ae,[l("div",ie,i(t.$t("goods.product details")),1),e.imgs.length>0?(s(),o("div",ne,[(s(!0),o(F,null,U(e.imgs,m=>H((s(),b(u,{key:m,src:m,class:"w-full h-auto",fit:"cover"},null,8,["src"])),[[q,m]])),128))])):c("",!0),e.text?(s(),o("div",le,i(e.text),1)):c("",!0)])}}}),mt=""+new URL("../images/shop-ChcGIVIz.svg",import.meta.url).href,ut=""+new URL("../images/shop-KzfS1F29.svg",import.meta.url).href,pt=""+new URL("../images/sale-people-B9j4520v.svg",import.meta.url).href,re={class:"relative"},ce={key:0,class:"absolute top-0 left-0 w-full h-full bg-black/50 z-[2]"},de={class:"w-full h-full flex items-center justify-center"},me={class:"text-white text-2xl font-bold"},ue=k({props:{imgs:null,indicatorColor:{default:"#fba923"},bgColor:{default:"#FFE3BD"},stock:{default:1},goodsTypes:{default:""}},setup(e,{expose:t}){const d=e;K(h=>({"49cf1f3e":e.bgColor,53286574:e.indicatorColor}));const u=h=>{d.imgs.length===1&&!d.imgs[0]||X({images:d.imgs,closeable:!0,showIndex:!0,startPosition:h})},m=T(),g=T([E,V]),p={draggable:!0},n={delay:3e3,disableOnInteraction:!0,pauseOnMouseEnter:!0},{height:w}=J(),D=x(()=>w.value/4*3),r=T(null),y=h=>{r.value=h},_=()=>{g.value=[E]},R=()=>{g.value=[E,V]};return t({pauseSwiper:()=>{r.value&&r.value.autoplay.stop()},resumeSwiper:()=>{r.value&&r.value.autoplay.start()}}),(h,Ye)=>{const z=A("VanImage");return s(),o("div",re,[e.stock===0&&e.goodsTypes!=2?(s(),o("div",ce,[l("div",de,[l("div",me," ·"+i(h.$t("goods.Sold Out"))+"· ",1)])])):c("",!0),B(a(Z),{ref:(S,$)=>{$.swiperGoodsRef=S,m.value=S},class:"w-full","auto-height":!0,modules:g.value,scrollbar:p,autoplay:n,onSwiper:y,onMouseenter:_,onMouseleave:R},{default:O(()=>[(s(!0),o(F,null,U(e.imgs,(S,$)=>(s(),b(a(W),{onClick:et=>u($),key:$},{default:O(()=>[l("div",{class:"w-full min-h-[40px] object-contain overflow-hidden",style:Q({maxHeight:`${a(D)}px`})},[B(z,{src:S||a(ee)("images/activity/boutique/squre_empty.png"),class:"object-cover w-full",fit:"contain"},null,8,["src"])],4)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modules"])])}}}),gt=N(ue,[["__scopeId","data-v-00f7c9ad"]]),pe=""+new URL("../images/online-V-h6qWLs.svg",import.meta.url).href,ge=""+new URL("../images/online-BHRPZ7Z2.svg",import.meta.url).href,ye=""+new URL("../images/outline-C86leE1s.svg",import.meta.url).href,he=""+new URL("../images/inline-NC3d5N9J.svg",import.meta.url).href,fe=""+new URL("../images/Offline-icon-B0-V7EQk.svg",import.meta.url).href,ve=""+new URL("../images/postage-BNepOK5C.png",import.meta.url).href,we={key:0,class:"w-[1rem] h-[1rem]",src:fe},be={key:1,class:"w-3.5 h-3.5",src:ve},Te={class:"ml-0.5 text-white pr-[0.185rem]"},xe=k({props:{deliveryType:null},setup(e){return(t,d)=>(s(),o("div",{class:P([{"bg-green-003":e.deliveryType===1,"bg-red-004 py-[0.06rem]":e.deliveryType===2},"inline-block align-bottom rounded-[0.4375rem] text-xxs whitespace-nowrap"])},[l("div",{class:P(["flex items-center",{"py-[0.12rem] pl-0.5":e.deliveryType===1}])},[e.deliveryType===2?(s(),o("img",we)):c("",!0),e.deliveryType===1?(s(),o("img",be)):c("",!0),l("span",Te,i(e.deliveryType===1?t.$t("common.send"):t.$t("common.offline")),1)],2)],2))}}),ke=N(xe,[["__scopeId","data-v-7f9062d4"]]),_e=k({props:{goods:{default:{}},activityGoods:{default:{}},showType:{default:"all"}},setup(e){const t=e,{t:d}=Y(),{tradeContributeSelfRate:u}=j(),m=T(0),g=async()=>{m.value=await u()},p=x(()=>{var R;if(t.goods.payType===2)return 0;const r=((R=t==null?void 0:t.activityGoods)==null?void 0:R.activityPrice)||0,y=+new f(new f(t.goods.discountRatio).div(100)).times(r||t.goods.price).times(m.value),_=+new f(new f(t.goods.balanceDiscountRatio).div(100)).times(r||t.goods.price).times(m.value);return t.showType==="balance"?y:t.showType==="points"?_:t.showType==="all"?t.goods.type===G.SD?y:Math.max(y,_):0}),n=x(()=>{var r;return t.showType==="balance"?d("mall.Givepoints",{num:v(p.value,2)}):t.showType==="points"?d("mall.Balance payment gift",{num:v(p.value,2)}):t.showType==="all"?t.goods.type!==G.SD&&+t.goods.balanceDiscountRatio>+((r=t.goods)==null?void 0:r.discountRatio)?d("mall.Balance payment gift",{num:v(p.value,2)}):d("mall.Givepoints",{num:v(p.value,2)}):""}),w=x(()=>{var r;return t.showType==="balance"?!1:t.showType==="points"?!0:t.showType==="all"?!(!t.goods.boutiqueFlag&&t.goods.payType!==I.POINTS_AVAILABLE||+t.goods.discountRatio>+((r=t.goods)==null?void 0:r.balanceDiscountRatio)):!1}),D=async()=>{g()};return M(()=>{D()}),(r,y)=>(s(),o("div",{class:P([{"bg-red-002":a(w),"bg-primary ":!a(w)},"px-1 leading-normal text-white rounded text-xxs whitespace-nowrap"])},i(a(n)),3))}}),Re={class:"rounded-b-lg px-2.5 pt-2.5 pb-3 bg-white box-shadow"},Se={key:0},$e={class:"text-sm font-semibold break-all"},Ce={class:"mr-1.5"},Ie={key:0,class:"mt-1.5 text-xs leading-normal text-black-400 line-clamp-2"},Be={class:"flex items-center mt-2"},De={key:1,class:"flex items-center"},Ee={key:2,class:"gap-2 ml-auto mr-4 text-right"},Le={key:1},Pe={class:"mb-2 font-semibold break-all"},Ne={class:"flex items-center justify-between mt-3"},Oe={key:0,class:"flex-start"},Ve={key:0,src:pe,class:"w-6 mr-2"},Ge={key:1,src:ge,class:"w-6 mr-2"},Ae={key:1,class:"flex-start"},Fe={key:0,src:ye,class:"w-6 mr-2"},Ue={key:1,src:he,class:"w-6 mr-2"},Me={class:"mt-1 mr-4 text-xs flex justify-start items-center text-black/50"},je={key:0},ze={key:1},He={key:2},qe={key:3},Ke={class:"ml-auto"},Je={key:0},Qe={key:1},We=k({props:{tokenRate:null,stores:null,goods:null,isSale:{type:Boolean,default:!1},card:null,shippingTemplate:{default:()=>({})}},setup(e){const t=e,{tradeContributeSelfRate:d}=j(),u=T(0),m=x(()=>{const n=+new f(new f(t.goods.goodsDiscountRatio).div(100)).times(t.goods.price).times(u.value);return v(n,2)}),g=async()=>{u.value=await d()},p=async()=>{g()};return M(()=>{p()}),(n,w)=>(s(),o("div",Re,[e.isSale?(s(),o("div",Le,[l("div",Pe,i(e.goods.title||""),1),B(oe,{ratio:e.goods.discountRate||20,class:"h-6"},null,8,["ratio"]),l("div",Ne,[e.goods.deliveryType===1||e.goods.shippingMethod===1?(s(),o("div",Oe,[e.isSale?(s(),o("img",Ge)):(s(),o("img",Ve)),l("div",null,i(n.$t("common.send")),1)])):(s(),o("div",Ae,[e.isSale?(s(),o("img",Ue)):(s(),o("img",Fe)),l("div",null,i(n.$t("common.offline")+n.$t("common.Payment")),1)]))])])):(s(),o("div",Se,[l("div",$e,[e.goods.type?(s(),b(te,{key:0,type:e.goods.type,class:"inline-block align-text-top mr-1.5"},null,8,["type"])):c("",!0),l("span",Ce,i(e.goods.goodsName||""),1),B(ke,{class:"align-text-bottom",deliveryType:e.goods.deliveryType},null,8,["deliveryType"])]),e.goods.goodsDesc?(s(),o("div",Ie,i(e.goods.goodsDesc),1)):c("",!0),l("div",Be,[e.goods.payType!==a(I).STORE_CARD?(s(),b(se,{key:0,style:{"margin-right":"0"},price:e.goods.price},null,8,["price"])):c("",!0),e.goods.payType!==a(I).STORE_CARD&&e.goods.deliveryType===a(L).online?(s(),o("div",De)):c("",!0),e.goods.deliveryType===a(L).online?(s(),o("div",Ee,[e.goods.payType!==a(I).STORE_CARD?(s(),b(_e,{key:0,class:"inline-block",showType:"balance",goods:e.goods},null,8,["goods"])):c("",!0)])):c("",!0)])])),l("div",Me,[l("span",null,[e.shippingTemplate.type===a(C).FREE&&e.shippingTemplate.threshold?(s(),o("span",je,i(n.$t("shop.shippingTemplate.actualPayment"))+i(a(v)(e.shippingTemplate.threshold))+"MC"+i(n.$t("shop.shippingTemplate.freeShipping")),1)):c("",!0),e.shippingTemplate.type===a(C).FREE&&e.shippingTemplate.threshold===0?(s(),o("span",ze,i(n.$t("shop.shippingTemplate.freeShipping")),1)):c("",!0),e.shippingTemplate.type===a(C).NO_SHIPPING?(s(),o("span",He,i(n.$t("shop.shippingTemplate.noShipping")),1)):c("",!0),e.shippingTemplate.type===a(C).CASH_ON_DELIVERY?(s(),o("span",qe,i(n.$t("shop.shippingTemplate.cashOnDelivery")),1)):c("",!0)]),l("span",Ke,[e.goods.deliveryType===a(L).online?(s(),o("span",Je,i(n.$t("goods.confirming receipt")),1)):(s(),o("span",Qe,i(n.$t("goods.order completed get integral",{num:a(m)})),1))])])]))}}),yt=N(We,[["__scopeId","data-v-4ae5136e"]]);export{gt as G,dt as _,yt as a,mt as b,ut as c,pt as d,_e as e};
