import{_ as E,y as V,bf as N,U as P,x as $,bv as T,E as c,K as _,G as r,N as d,a2 as I,a3 as x,P as b,O as w,r as C,z,H as a,Q as k,a4 as L,F as y,J as O,R as S,I as H,n as R}from"./vendor-Ba70TIw4.js";import{B as M}from"./BackIcon-DkqwcD_b.js";import{_ as K}from"./search-C4fLtTfY.js";import{_ as U}from"./checked-C8-rw1H8.js";const W=V({props:{themeVars:null,title:null,url:null},setup(o){const l=N({navBarHeight:"50px",navBarTitleFontSize:"18px",navBarIconColor:"#000",...o.themeVars}),p=T.sm,{width:n}=P(),g=$(()=>n.value<=p.valueOf());return(m,f)=>{const h=c("van-nav-bar"),v=c("VanConfigProvider");return r(),_(v,{"theme-vars":b(l)},{default:d(()=>[o.title?(r(),_(h,{key:0,title:o.title,border:!1,"left-arrow":"",fixed:b(g),placeholder:"","get-container":"body"},{left:d(()=>[w(M)]),right:d(()=>[x(m.$slots,"right",{},void 0,!0)]),_:3},8,["title","fixed"])):I("",!0),x(m.$slots,"default",{},void 0,!0)]),_:3},8,["theme-vars"])}}}),ne=E(W,[["__scopeId","data-v-084c010c"]]),j={class:"w-full py-4 pl-4 pr-2 bg-b6 rounded-[10px] overflow-hidden font-Puhui"},D={class:"text-center felx-1 relative mr-2"},G={class:"text-base font-bold"},J={class:"absolute right-0 top-0 pl-2"},Q={class:"flex-1 bg-b5 rounded-3xl mr-2 mt-4 mb-2"},q=a("div",null,[a("img",{src:K,class:"w-4 h-4"})],-1),A={class:"categoryList pr-2 mr-2 overflow-y-auto"},X=["id","onClick"],Y=["innerHTML"],Z={key:0,class:"w-4 h-4",src:U,alt:""},re=V({props:{list:null,id:null,level:null},emits:["close","select"],setup(o,{emit:u}){const l=o,p=C(!0),n=C(""),g=$(()=>{if(!n.value.trim())return l.list;const e=f(n.value),t=new RegExp(`(${e})`,"gi");return l.list.filter(i=>i.goodsCategoryName.match(t))}),m=e=>{if(!n.value.trim())return e;const t=f(n.value),i=new RegExp(`(${t})`,"gi");return e.replace(i,'<span class="highlight">$1</span>')},f=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),h=e=>{u("select",e.goodsCategoryId,e.goodsCategoryName),u("close")},v=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return z(()=>l.id,async e=>{e&&(await R(),v(e))},{immediate:!0,deep:!0}),(e,t)=>{const i=c("van-icon"),B=c("VanField"),F=c("VanPopup");return r(),_(F,{teleport:"body",show:p.value,position:"bottom",round:"","close-on-click-overlay":!1,onClickOverlay:t[2]||(t[2]=s=>e.$emit("close")),"overlay-class":"categoryOverlay",class:"sm:w-[375px] sm:left-[50%] sm:translate-x-[-50%]",style:{"min-height":"50%","border-radius":"16px 16px 0 0"}},{default:d(()=>[a("div",j,[a("header",D,[a("div",G,k([e.$t("offline.one_category"),e.$t("offline.two_category"),e.$t("offline.three_category")][(o.level||1)-1])+" （"+k((o.list||[]).length)+"） ",1),a("div",J,[w(i,{name:"cross",size:"20",onClick:t[0]||(t[0]=L(()=>{u("close")},["stop"]))})])]),a("div",Q,[w(B,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),placeholder:e.$t("mall.Enter search keywords"),class:"w-[100% - 20px] text-center bg-transparent items-center",clearable:""},{"left-icon":d(()=>[q]),_:1},8,["modelValue","placeholder"])]),a("div",A,[(r(!0),y(H,null,O(b(g),s=>(r(),y("div",{key:s.goodsCategoryId,id:s.goodsCategoryId,class:"flex flex-1 justify-between py-4 border-b border-b-b4 last:border-none",onClick:ee=>h(s)},[a("span",{class:S({"text-newOrigin":s.goodsCategoryId===o.id}),innerHTML:m(s.goodsCategoryName)},null,10,Y),s.goodsCategoryId===o.id?(r(),y("img",Z)):I("",!0)],8,X))),128))])])]),_:1},8,["show"])}}});export{ne as C,re as _};
