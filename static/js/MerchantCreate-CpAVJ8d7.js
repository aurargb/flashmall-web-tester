import{_ as De,y as ue,bf as st,U as lt,x as ne,bv as nt,E as b,K as P,G as f,N as n,X as B,a3 as Ee,P as r,O as d,r as x,z as Te,H as a,Q as u,a4 as G,F as T,J as rt,R,I as ut,n as dt,w as it,a2 as ct,l as pt,be as ee,D as mt,a1 as re,bF as ke,bE as Be,a0 as vt,Z as gt,$ as ft,bs as $e,T as z}from"./vendor-BlU_hoYl.js";import{_ as ht,a as ze}from"./BrandSelectPop-BIUASeeb.js";import{_ as Re}from"./right-arrow-CaxjJ3WI.js";import{B as _t}from"./BackIcon-8hcEjDKb.js";import{_ as xt}from"./search-C4fLtTfY.js";import{_ as bt}from"./checked-C8-rw1H8.js";import{u as Ae}from"./upload-Bd5o3h4D.js";import{e as yt,u as Ct,r as wt,W as pe,_ as Ft,S as It,aN as Et,aa as Se,ab as Ve,a3 as Ne,q as Le,aT as kt}from"./index-Clz0Qna-.js";import{i as Me}from"./offlineGoods-DvT2Go6q.js";import{u as Bt}from"./useCityMap-L2xSDWSa.js";const $t=ue({props:{themeVars:null,title:null,url:null},setup(y){const U=st({navBarHeight:"50px",navBarTitleFontSize:"18px",navBarIconColor:"#000",...y.themeVars}),h=nt.sm,{width:$}=lt(),H=ne(()=>$.value<=h.valueOf());return(O,J)=>{const Q=b("van-nav-bar"),q=b("VanConfigProvider");return f(),P(q,{"theme-vars":r(U)},{default:n(()=>[y.title?(f(),P(Q,{key:0,title:y.title,border:!1,"left-arrow":"",fixed:r(H),placeholder:"","get-container":"body"},{left:n(()=>[d(_t)]),right:n(()=>[Ee(O.$slots,"right",{},void 0,!0)]),_:3},8,["title","fixed"])):B("",!0),Ee(O.$slots,"default",{},void 0,!0)]),_:3},8,["theme-vars"])}}}),At=De($t,[["__scopeId","data-v-084c010c"]]),St={class:"w-full py-4 pl-4 pr-2 bg-b6 rounded-[10px] overflow-hidden font-Puhui"},Vt={class:"text-center felx-1 relative mr-2"},Nt={class:"text-base font-bold"},Lt={class:"absolute right-0 top-0 pl-2"},Mt={class:"flex-1 bg-b5 rounded-3xl mr-2 mt-4 mb-2"},Dt=a("div",null,[a("img",{src:xt,class:"w-4 h-4"})],-1),Tt={class:"categoryList pr-2 mr-2 overflow-y-auto"},zt=["id","onClick"],Rt=["innerHTML"],Pt={key:0,class:"w-4 h-4",src:bt,alt:""},Ut=ue({props:{list:null,id:null,level:null},emits:["close","select"],setup(y,{emit:F}){const U=y,h=x(!0),$=x(""),H=ne(()=>{if(!$.value.trim())return U.list;const i=J($.value),_=new RegExp(`(${i})`,"gi");return U.list.filter(A=>A.goodsCategoryName.match(_))}),O=i=>{if(!$.value.trim())return i;const _=J($.value),A=new RegExp(`(${_})`,"gi");return i.replace(A,'<span class="highlight">$1</span>')},J=i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Q=i=>{F("select",i.goodsCategoryId,i.goodsCategoryName),F("close")},q=i=>{const _=document.getElementById(i);_&&_.scrollIntoView({behavior:"smooth"})};return Te(()=>U.id,async i=>{i&&(await dt(),q(i))},{immediate:!0,deep:!0}),(i,_)=>{const A=b("van-icon"),te=b("VanField"),de=b("VanPopup");return f(),P(de,{teleport:"body",show:h.value,position:"bottom",round:"","close-on-click-overlay":!1,onClickOverlay:_[2]||(_[2]=k=>i.$emit("close")),"overlay-class":"categoryOverlay",class:"sm:w-[375px] sm:left-[50%] sm:translate-x-[-50%]",style:{"min-height":"50%","border-radius":"16px 16px 0 0"}},{default:n(()=>[a("div",St,[a("header",Vt,[a("div",Nt,u([i.$t("offline.one_category"),i.$t("offline.two_category"),i.$t("offline.three_category")][(y.level||1)-1])+" （"+u((y.list||[]).length)+"） ",1),a("div",Lt,[d(A,{name:"cross",size:"20",onClick:_[0]||(_[0]=G(()=>{F("close")},["stop"]))})])]),a("div",Mt,[d(te,{modelValue:$.value,"onUpdate:modelValue":_[1]||(_[1]=k=>$.value=k),placeholder:i.$t("mall.Enter search keywords"),class:"w-[100% - 20px] text-center bg-transparent items-center",clearable:""},{"left-icon":n(()=>[Dt]),_:1},8,["modelValue","placeholder"])]),a("div",Tt,[(f(!0),T(ut,null,rt(r(H),k=>(f(),T("div",{key:k.goodsCategoryId,id:k.goodsCategoryId,class:"flex flex-1 justify-between py-4 border-b border-b-b4 last:border-none",onClick:ae=>Q(k)},[a("span",{class:R({"text-newOrigin":k.goodsCategoryId===y.id}),innerHTML:O(k.goodsCategoryName)},null,10,Rt),k.goodsCategoryId===y.id?(f(),T("img",Pt)):B("",!0)],8,zt))),128))])])]),_:1},8,["show"])}}}),E=y=>(gt("data-v-2aab5edf"),y=y(),ft(),y),jt={class:"bg-white rounded-xl overflow-hidden mx-3 px-3 pb-4 title"},Kt={class:"border-b4 border-b border-solid"},Ht={class:"text-sm text-[#2E2008] font-semibold"},Ot={class:"border-b4 border-b border-solid"},qt={class:"text-sm text-[#2E2008] font-semibold"},Wt={key:0,class:"border-b4 border-b border-solid"},Gt={class:"text-sm text-[#2E2008] font-semibold"},Jt={key:1,class:"border-b4 border-b border-solid"},Qt={class:"text-sm text-[#2E2008] font-semibold"},Xt={class:"border-b4 border-b border-solid"},Zt=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold"},u("品牌信息"),-1)),Yt={key:0,class:"rounded-[10px] bg-[#F5F5F5] min-h-[56px] w-full mb-4 p-3"},ea={class:"flex items-center justify-start w-full h-full"},ta={class:"w-8 h-8 rounded-[4px] bg-[#D9D9D9]"},aa={class:"ml-2"},oa={class:"text-base font-semibold text-b1"},sa={class:"flex justify-between items-center pt-4"},la=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold"},u("店铺照片"),-1)),na={class:"van-uploader__wrapper gap-3"},ra=["onClick"],ua={class:"van-image van-uploader__preview-image",style:{width:"60px",height:"60px","border-radius":"6px"}},da=["onClick"],ia=E(()=>a("img",{class:"w-[15px] h-[15px]",src:ze,alt:""},null,-1)),ca=[ia],pa={class:"w-[60px] h-[60px] bg-b5 rounded-xl text-center flex flex-col justify-center items-center text-[#d9d9d9]"},ma=["src"],va={class:"text-xs font-light text-center text-b1 opacity-30"},ga={class:"bg-white rounded-xl overflow-hidden m-3 px-3 pb-4 title"},fa={class:"border-b4 border-b border-solid"},ha=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold"},u("所在地区"),-1)),_a=E(()=>a("img",{class:"shrink-0 ml-[2px] w-4 h-4",src:Re,alt:""},null,-1)),xa={class:"border-b4 border-b border-solid"},ba=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold"},u("地图选点"),-1)),ya=E(()=>a("img",{class:"shrink-0 ml-[2px] w-4 h-4",src:Re,alt:""},null,-1)),Ca=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold pt-4"},u("详细地址"),-1)),wa={class:"bg-white rounded-xl overflow-hidden m-3 px-3 title"},Fa={class:"border-b4 border-b border-solid"},Ia=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold"},u("联系方式"),-1)),Ea=re(u("Metakey")),ka={key:0},Ba=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold"},u("Matekey地址"),-1)),$a={key:1,class:"flex justify-between items-center py-4"},Aa=E(()=>a("div",{class:"text-sm text-[#2E2008] font-semibold"},u("三方工具"),-1)),Sa={class:"van-uploader__wrapper gap-3"},Va=["onClick"],Na={class:"van-image van-uploader__preview-image",style:{width:"60px",height:"60px","border-radius":"6px"}},La=["onClick"],Ma=E(()=>a("img",{class:"w-[15px] h-[15px]",src:ze,alt:""},null,-1)),Da=[Ma],Ta={class:"w-[60px] h-[60px] bg-b5 rounded-xl text-center flex flex-col justify-center items-center text-[#d9d9d9]"},za=["src"],Ra={class:"text-xs font-light text-center text-b1 opacity-30"},Pa={class:"bg-white rounded-xl overflow-hidden m-3 px-3 py-4 title"},Ua={class:"text-sm text-[#2E2008] font-semibold"},ja={key:0,class:"fixed bottom-0 left-0 w-full flex items-center px-3 pt-4 safe-bottom justify-evenly gap-x-3 btn-wrapper"},Ka=re(u("确认添加")),Ha={class:"p-1"},Oa=E(()=>a("div",{class:"text-sm text-center text-[#2E2008] font-semibold"},u("检测到您的地图选点位置信息与选择的所在地区存在出入，请重新核对"),-1)),qa={class:"flex items-center justify-between mt-6"},Wa={class:"cascader__wrap"},Ga=ue({name:"MerchantCreate"});function Ja(y){const{t:F}=it(),{accountStore:U,cityMapStore:h,serviceCategoriesStore:$}=yt();Ct();const{loadingToggle:H}=wt(),{getLeafletjsAddressTitle:O,getLeafletjsAddressDescription:J}=Bt(),Q=ct(),q=pt(),[i,_]=ee(!1),[A,te]=ee(!1),[de,k]=ee(!1),[ae,X]=ee(!1),[Pe,me]=ee(!1),o=x({storeName:null,goodsCategoryId1:null,goodsCategoryName1:null,goodsCategoryId2:null,goodsCategoryName2:null,goodsCategoryId3:null,goodsCategoryName3:null,storeBrandId:null,storeIcons:"",areaIdLastLeaf:null,storeLongitude:null,storeLatitude:null,overseasFlag:!1,storeAddress:null,mateKeyAddress:null,otherContactInfo:null,applyRemark:null}),ve=x([]),L=x(1),ge=x(null),ie=(t,e,s)=>{ve.value=Et($.fullCategories,{idKey:"goodsCategoryId",parentKey:"goodsCategoryParentId",rootId:e}),ge.value=t,L.value=s,te(!0)},Ue=(t,e)=>{if(o.value[`goodsCategoryId${L.value}`]=t,o.value[`goodsCategoryName${L.value}`]=e,L.value<3)for(let s=L.value;s<3;s++)o.value[`goodsCategoryId${s+1}`]=null,o.value[`goodsCategoryName${s+1}`]=null},oe=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,s=t==="x"?e:e&3|8;return s.toString(16)}),S=x(null),je=t=>{S.value={...t}},V=x([]),fe=x(3),Ke=async t=>{if(V.value.length>=fe.value)return;const e=Se(t.file);if(!e.valid)return g(e.tips);const s=Ve(t.file);if(!s.valid)return g(s.tips);z.loading({message:F("common.uploading"),forbidClick:!0,duration:0});const c=await Ne(t,"goodsDesc"),p=await Ae(c);if(z.clear(),!p.success)return g("图片上传失败");V.value.push({id:oe(),url:Le.imgUrl+p.data})},He=t=>{V.value.splice(t,1)},Oe=t=>{$e({images:V.value.map(e=>e.url),startPosition:t})},j=x("1"),qe=t=>{console.log("handleLinkTypeChange",t)},N=x([]),he=x(1),We=async t=>{if(N.value.length>=he.value)return;const e=Se(t.file);if(!e.valid)return g(e.tips);const s=Ve(t.file);if(!s.valid)return g(s.tips);z.loading({message:F("common.uploading"),forbidClick:!0,duration:0});const c=await Ne(t,"goodsDesc"),p=await Ae(c);if(z.clear(),!p.success)return g("图片上传失败");N.value.push({id:oe(),url:Le.imgUrl+p.data})},Ge=t=>{N.value.splice(t,1)},Je=t=>{$e({images:N.value.map(e=>e.url),startPosition:t})},v=x(null),_e=x(null),Qe=ne(()=>v.value?v.value.map(e=>e.areaExtName||"").join(""):""),Xe=()=>{var t,e;if(X(!0),v.value){let s=0,c=0,p=0,C=h.regionsCascader||[];for(let m=0;m<C.length;m++)if(C[m].areaId==v.value[0].areaId){s=m;break}let w=((t=C[s])==null?void 0:t.children)||[];for(let m=0;m<w.length;m++)if(w[m].areaId==v.value[1].areaId){c=m;break}let M=((e=w[c])==null?void 0:e.children)||[];for(let m=0;m<M.length;m++)if(M[m].areaId==v.value[2].areaId){p=m;break}setTimeout(()=>{_e.value.setIndexes([s,c,p])})}},Ze=t=>{var e,s;if(v.value&&t&&((e=v.value[v.value.length-1])==null?void 0:e.areaId)===((s=t[t.length-1])==null?void 0:s.areaId))return X(!1);v.value=t,X(!1),h.setSelectedMap(null)},Ye=()=>{if(!v.value)return z.fail("请选择所在地区");const t=v.value[v.value.length-1],e=t==null?void 0:t.areaLatitude,s=t==null?void 0:t.areaLongitude;let c="/city/merchantCreate/selectMap";e&&s&&(c+=`?lat=${e}&lng=${s}`),q.push(c)};Te(()=>h.selectedMap,t=>{t?o.value.storeAddress=t.description:o.value.storeAddress=null},{deep:!0});const et=t=>new Promise(e=>setTimeout(e,t)),tt=(t,e=2,s=1e3)=>{const c=async p=>{try{return await(await fetch(t)).json()}catch{return p>0?(await et(s),c(p-1)):(z.clear(),z.fail("街道信息查询失败"),null)}};return c(e)},g=(t="",e="toast-warn.svg")=>{z({message:t,icon:pe(e),duration:2e3,overlay:!0,overlayClass:"toastOverlay",className:"toastCard",type:"html"})},xe=ne(()=>!1),at=async()=>{var c,p,C;if(!o.value.storeName)return g("请输入店铺名称");if(!o.value.goodsCategoryId1)return g(F("shop.pleaseSelect")+F("offline.one_category"));if(!o.value.goodsCategoryId2)return g(F("shop.pleaseSelect")+F("offline.two_category"));if(!o.value.goodsCategoryId3)return g(F("shop.pleaseSelect")+F("offline.three_category"));if(!S.value)return g("请选择品牌信息");if(!V.value.length)return g("请上传店铺照片");if(j.value==="1"&&!o.value.mateKeyAddress)return g("请输入Matekey聊天地址");if(j.value==="2"&&!N.value.length)return g("请上传三方工具联系方式");if(!v.value)return g("请选择所在地区");if(!h.selectedMap)return g("请选择店铺位置");if(!o.value.storeAddress)return g("请输入详细地址");_(!0),o.value.storeBrandId=S.value.storeBrandId;const t=V.value.map(w=>w.url);if(o.value.storeIcons=t.join(","),j.value==="1")o.value.otherContactInfo=null;else{const w=N.value.map(M=>M.url);o.value.mateKeyAddress=null,o.value.otherContactInfo=w.join(",")}o.value.areaIdLastLeaf=(c=v.value[v.value.length-1])==null?void 0:c.areaId,o.value.storeLongitude=(p=h.selectedMap)==null?void 0:p.lng,o.value.storeLatitude=(C=h.selectedMap)==null?void 0:C.lat;const{success:e,data:s}=await kt(o.value);_(!1),e&&(g("添加成功","toast-success.svg"),setTimeout(()=>{q.back()},2e3))},ce=x(!1),ot=async()=>{var s,c,p,C,w,M,m,K,se,le,Z,Y,l,I,W,be,ye,Ce,we,Fe,Ie;const t=(s=Q.query)==null?void 0:s.storeId;if(!t)return;ce.value=!0;const e=await It({id:t});if(ce.value=!1,!!e.success&&(o.value=e.data,S.value={storeBrandId:(c=e.data)==null?void 0:c.storeBrandId,storeBrandName:(p=e.data)==null?void 0:p.storeBrandName,storeBrandIcon:(C=e.data)==null?void 0:C.storeBrandIcon},(w=e.data)!=null&&w.storeIcons&&(V.value=e.data.storeIcons.split(",").map(D=>({id:oe(),url:D}))),(M=e.data)!=null&&M.otherContactInfo&&(N.value=e.data.otherContactInfo.split(",").map(D=>({id:oe(),url:D}))),v.value=[{areaId:(m=e.data)==null?void 0:m.areaId1,areaName:(K=e.data)==null?void 0:K.areaName1,areaExtName:(se=e.data)==null?void 0:se.areaExtName1},{areaId:(le=e.data)==null?void 0:le.areaId2,areaName:(Z=e.data)==null?void 0:Z.areaName2,areaExtName:(Y=e.data)==null?void 0:Y.areaExtName2},{areaId:(l=e.data)==null?void 0:l.areaId3,areaName:(I=e.data)==null?void 0:I.areaName3,areaExtName:(W=e.data)==null?void 0:W.areaExtName3}],(be=e.data)!=null&&be.storeLatitude&&((ye=e.data)!=null&&ye.storeLongitude))){const D=await tt(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${(Ce=e.data)==null?void 0:Ce.storeLatitude}&lon=${(we=e.data)==null?void 0:we.storeLongitude}&addressdetails=1&accept-language=zh-CN`);D&&h.setSelectedMap({lat:+((Fe=e.data)==null?void 0:Fe.storeLatitude),lng:+((Ie=e.data)==null?void 0:Ie.storeLongitude),name:D.name||"",display_name:D.display_name||"",title:O(D),description:J(D)})}};return mt(async()=>{h.setSelectedMap(null),H(!0),$.init(),ot(),H(!1)}),(t,e)=>{const s=b("van-field"),c=b("VanIcon"),p=b("VanImage"),C=b("van-uploader"),w=b("van-radio"),M=b("van-radio-group"),m=b("VanButton"),K=b("van-picker"),se=b("van-popup"),le=b("router-view");return f(),P(At,{title:"添加新店",class:"font-Puhui font-normal relative pb-20 bg-gray1",themeVars:{navBarBackgroundColor:"#F2F0EF"}},{default:n(()=>{var Z,Y;return[a("div",jt,[a("div",Kt,[d(s,{"input-align":"right",modelValue:o.value.storeName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.storeName=l),placeholder:t.$t("shop.emptyName"),maxlength:"20",class:"no-bt"},{label:n(()=>[a("div",Ht,u(t.$t("shop.shopName")),1)]),_:1},8,["modelValue","placeholder"])]),a("div",Ot,[d(s,{"input-align":"right",autocomplete:"off",class:"no-bt",onClick:e[1]||(e[1]=l=>{var I;return ie((I=o.value)==null?void 0:I.goodsCategoryId1,0,1)})},{label:n(()=>[a("div",qt,u(t.$t("offline.one_category")),1)]),input:n(()=>{var l;return[a("div",{class:R(["dropdown text-b3",{"!text-b2":(l=o.value)==null?void 0:l.goodsCategoryId1,"down-active":L.value===1&&r(A)}])},u(o.value.goodsCategoryId1?o.value.goodsCategoryName1:t.$t("shop.emptyClass")),3)]}),_:1})]),o.value.goodsCategoryId1?(f(),T("div",Wt,[d(s,{"input-align":"right",autocomplete:"off",class:"no-bt",onClick:e[2]||(e[2]=l=>ie(o.value.goodsCategoryId2,o.value.goodsCategoryId1,2))},{label:n(()=>[a("div",Gt,u(t.$t("offline.two_category")),1)]),input:n(()=>[a("div",{class:R(["dropdown text-b3",{"!text-b2":o.value.goodsCategoryId2,"down-active":L.value===2&&r(A)}])},u(o.value.goodsCategoryId2?o.value.goodsCategoryName2:t.$t("shop.emptyClass")),3)]),_:1})])):B("",!0),o.value.goodsCategoryId2?(f(),T("div",Jt,[d(s,{"input-align":"right",autocomplete:"off",class:"no-bt",onClick:e[3]||(e[3]=l=>ie(o.value.goodsCategoryId3,o.value.goodsCategoryId2,3))},{label:n(()=>[a("div",Qt,u(t.$t("offline.three_category")),1)]),input:n(()=>[a("div",{class:R(["dropdown text-b3",{"!text-b2":o.value.goodsCategoryId3,"down-active":L.value===3&&r(A)}])},u(o.value.goodsCategoryId3?o.value.goodsCategoryName3:t.$t("shop.emptyClass")),3)]),_:1})])):B("",!0),a("div",Xt,[d(s,{"input-align":"right",autocomplete:"off",class:"no-bt",onClick:e[4]||(e[4]=l=>r(k)(!0))},{label:n(()=>[Zt]),input:n(()=>[a("div",{class:R(["text-b3",{"!text-b2":S.value}])},[re(u(S.value?t.$t("offline.brand_selected",{num:1}):"请选择品牌")+" ",1),d(c,{name:"arrow",class:"text-xs font-bold"})],2)]),_:1}),S.value?(f(),T("div",Yt,[a("div",ea,[a("div",ta,[d(p,{src:((Z=S.value)==null?void 0:Z.storeBrandIcon)||"",radius:"4px",width:"32px",height:"32px",fit:"cover"},null,8,["src"])]),a("div",aa,[a("span",oa,u(((Y=S.value)==null?void 0:Y.storeBrandName)||""),1)])])])):B("",!0)]),a("div",sa,[la,a("div",na,[d(r(Be),ke({class:"flex flex-wrap gap-3",modelValue:V.value,"onUpdate:modelValue":e[5]||(e[5]=l=>V.value=l),"item-key":"id"},{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}),{item:n(({element:l,index:I})=>[a("div",{class:"van-uploader__preview",onClick:G(W=>Oe(I),["stop"])},[a("div",ua,[d(p,{src:l.url,class:"van-image__img",radius:"6px",fit:"cover"},null,8,["src"])]),a("div",{class:"absolute top-[4.25px] right-[4px] z-[9]",onClick:G(W=>He(I),["stop"]),tabindex:"0"},ca,8,da)],8,ra)]),_:1},16,["modelValue"]),V.value.length<fe.value?(f(),P(C,{key:0,accept:r(Me),afterRead:Ke},{default:n(()=>[a("div",pa,[a("img",{src:r(pe)("image-default.svg"),class:"w-6 mx-auto",alt:""},null,8,ma),a("div",va,u(t.$t("common.add img")),1)])]),_:1},8,["accept"])):B("",!0)])])]),a("div",ga,[a("div",fa,[d(s,{"input-align":"right",autocomplete:"off",class:"no-bt",onClick:Xe},{label:n(()=>[ha]),input:n(()=>[a("div",{class:R(["text-b3",{"!text-b2":v.value}])},u(r(Qe)||"请选择店铺所在地区"),3),_a]),_:1})]),a("div",xa,[d(s,{"input-align":"right",autocomplete:"off",class:"no-bt",onClick:Ye},{label:n(()=>[ba]),input:n(()=>{var l;return[a("div",{class:R(["text-b3",{"!text-b2":r(h).selectedMap}])},u(r(h).selectedMap?(l=r(h).selectedMap)==null?void 0:l.title:"请选择店铺位置"),3),ya]}),_:1})]),Ca,d(s,{modelValue:o.value.storeAddress,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.storeAddress=l),rows:"1",autosize:"",type:"textarea",placeholder:"请输入店铺详细地址",class:"no-bt",style:{"padding-top":"8px !important","padding-bottom":"0 !important"}},null,8,["modelValue"])]),a("div",wa,[a("div",Fa,[d(s,{"input-align":"right",class:"no-bt"},{label:n(()=>[Ia]),input:n(()=>[]),button:n(()=>[d(M,{modelValue:j.value,"onUpdate:modelValue":e[7]||(e[7]=l=>j.value=l),"checked-color":"#FF8812",direction:"horizontal",onChange:qe},{default:n(()=>[d(w,{name:"1","icon-size":"16px"},{default:n(()=>[Ea]),_:1}),d(w,{name:"2","icon-size":"16px"},{default:n(()=>[re(u(t.$t("flashSale.service-link-outher")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),j.value==1?(f(),T("div",ka,[d(s,{"input-align":"right",modelValue:o.value.mateKeyAddress,"onUpdate:modelValue":e[8]||(e[8]=l=>o.value.mateKeyAddress=l),placeholder:"Matekey聊天地址",class:"no-bt"},{label:n(()=>[Ba]),_:1},8,["modelValue"])])):B("",!0),j.value==2?(f(),T("div",$a,[Aa,a("div",Sa,[d(r(Be),ke({class:"flex flex-wrap gap-3",modelValue:N.value,"onUpdate:modelValue":e[9]||(e[9]=l=>N.value=l),"item-key":"id"},{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}),{item:n(({element:l,index:I})=>[a("div",{class:"van-uploader__preview",onClick:G(W=>Je(I),["stop"])},[a("div",Na,[d(p,{src:l.url,class:"van-image__img",radius:"6px",fit:"cover"},null,8,["src"])]),a("div",{class:"absolute top-[4.25px] right-[4px] z-[9]",onClick:G(W=>Ge(I),["stop"]),tabindex:"0"},Da,8,La)],8,Va)]),_:1},16,["modelValue"]),N.value.length<he.value?(f(),P(C,{key:0,accept:r(Me),afterRead:We},{default:n(()=>[a("div",Ta,[a("img",{src:r(pe)("image-default.svg"),class:"w-6 mx-auto",alt:""},null,8,za),a("div",Ra,u(t.$t("common.add img")),1)])]),_:1},8,["accept"])):B("",!0)])])):B("",!0)]),a("div",Pa,[a("div",Ua,u("备注信息(仅审核人员可见)"),1),d(s,{modelValue:o.value.applyRemark,"onUpdate:modelValue":e[10]||(e[10]=l=>o.value.applyRemark=l),rows:"2",autosize:"",type:"textarea",placeholder:"请输入备注信息",class:"no-bt",style:{"padding-top":"8px !important","padding-bottom":"0 !important"},maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),!r(U).isOnlyView&&!o.value.storeId&&!ce.value?(f(),T("div",ja,[d(m,{round:"",class:R(["flex-1 min-w-[130px] h-[46px] text-base font-semibold",r(xe)?"bg-b4 text-b2":"bg-btnOrBg text-b1"]),disabled:r(xe),onClick:at,loading:r(i)},{default:n(()=>[Ka]),_:1},8,["disabled","class","loading"])])):B("",!0),r(A)?(f(),P(Ut,{key:1,list:ve.value,level:L.value,id:ge.value,onSelect:Ue,onClose:e[11]||(e[11]=l=>r(te)(!1))},null,8,["list","level","id"])):B("",!0),r(de)?(f(),P(ht,{key:2,brand:S.value,onSelectBrand:je,onClose:e[12]||(e[12]=l=>r(k)(!1))},null,8,["brand"])):B("",!0),d(Ft,{noClose:"",show:r(Pe),onClose:e[14]||(e[14]=l=>r(me)(!1))},{default:n(()=>[a("div",Ha,[Oa,a("div",qa,[a("div",{class:"flex-1 h-[46px] leading-[46px] rounded-full text-base text-center text-[#2E2008] font-semibold bg-yellow",onClick:e[13]||(e[13]=G(l=>r(me)(!1),["stop"]))},u(t.$t("common.confirm")),1)])])]),_:1},8,["show"]),d(se,{show:r(ae),"onUpdate:show":e[16]||(e[16]=l=>vt(ae)?ae.value=l:null),position:"bottom",round:"",teleport:"body",style:{height:"50%"},onClose:e[17]||(e[17]=l=>r(X)(!1))},{default:n(()=>[a("div",Wa,[d(K,{ref:(l,I)=>{I.areaPickerRef=l,_e.value=l},title:"请选择店铺所在地区",columns:r(h).regionsCascader,"columns-field-names":{text:"areaName",value:"areaId",children:"children"},onConfirm:Ze,onCancel:e[15]||(e[15]=l=>r(X)(!1))},null,8,["columns"])])]),_:1},8,["show"]),d(le,{class:"child-view"})]}),_:1})}}const Qa=ue({...Ga,setup:Ja}),ro=De(Qa,[["__scopeId","data-v-2aab5edf"]]);export{ro as default};
